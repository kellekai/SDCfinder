<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDC finder: include/MemoryReliability_decl.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDC finder
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">MemoryReliability_decl.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Main header file and interface for <a class="el" href="MemoryReliability_8c.html" title="Source for executable with main function. ">MemoryReliability.c</a>.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;sys/mman.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;sys/syscall.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;getopt.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
</div>
<p><a href="MemoryReliability__decl_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a94baa001ce1e427d41bdddb61169df68"><td class="memItemLeft" align="right" valign="top">typedef uintptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a></td></tr>
<tr class="separator:a94baa001ce1e427d41bdddb61169df68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace4c2d81e27f62826d40d0d547b37ea8"><td class="memItemLeft" align="right" valign="top">typedef void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#ace4c2d81e27f62826d40d0d547b37ea8">ADDRESS</a></td></tr>
<tr class="separator:ace4c2d81e27f62826d40d0d547b37ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6649194b85c248005f56df75ef5e6a6f"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="MemoryReliability__decl_8h.html#acf7192c608527efb8f8dedf0a3f2e706">Strategy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a6649194b85c248005f56df75ef5e6a6f">Strategy_t</a></td></tr>
<tr class="memdesc:a6649194b85c248005f56df75ef5e6a6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Numerator to select test strategy.  <a href="#a6649194b85c248005f56df75ef5e6a6f">More...</a><br /></td></tr>
<tr class="separator:a6649194b85c248005f56df75ef5e6a6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:acf7192c608527efb8f8dedf0a3f2e706"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#acf7192c608527efb8f8dedf0a3f2e706">Strategy</a> { <b>SIMPLE</b> = 0, 
<b>ZERO</b> = 1, 
<b>RANDOM</b> = 2
 }<tr class="memdesc:acf7192c608527efb8f8dedf0a3f2e706"><td class="mdescLeft">&#160;</td><td class="mdescRight">Numerator to select test strategy.  <a href="MemoryReliability__decl_8h.html#acf7192c608527efb8f8dedf0a3f2e706">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:acf7192c608527efb8f8dedf0a3f2e706"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aff93fd1322012d1b450c07fe2230eef4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#aff93fd1322012d1b450c07fe2230eef4">inject_cpu_error</a> (unsigned char *start, <a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> expected_value, <a class="el" href="MemoryReliability__decl_8h.html#a6649194b85c248005f56df75ef5e6a6f">Strategy_t</a> s)</td></tr>
<tr class="memdesc:aff93fd1322012d1b450c07fe2230eef4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Injects error in CPU memory.  <a href="#aff93fd1322012d1b450c07fe2230eef4">More...</a><br /></td></tr>
<tr class="separator:aff93fd1322012d1b450c07fe2230eef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a49a6091705e944e3a6b05d0be3c3ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a6a49a6091705e944e3a6b05d0be3c3ce">inject_gpu_error</a> (unsigned char *start, <a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> expected_value, <a class="el" href="MemoryReliability__decl_8h.html#a6649194b85c248005f56df75ef5e6a6f">Strategy_t</a> s)</td></tr>
<tr class="memdesc:a6a49a6091705e944e3a6b05d0be3c3ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Injects error in GPU memory.  <a href="#a6a49a6091705e944e3a6b05d0be3c3ce">More...</a><br /></td></tr>
<tr class="separator:a6a49a6091705e944e3a6b05d0be3c3ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ba9f22da04fa0e126afc734a4a3713d"><td class="memItemLeft" align="right" valign="top">uintptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a1ba9f22da04fa0e126afc734a4a3713d">virtual_to_physical_address</a> (uintptr_t virt_addr)</td></tr>
<tr class="memdesc:a1ba9f22da04fa0e126afc734a4a3713d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translates a virtual address to the physical address.  <a href="#a1ba9f22da04fa0e126afc734a4a3713d">More...</a><br /></td></tr>
<tr class="separator:a1ba9f22da04fa0e126afc734a4a3713d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ed24cbd1932b27fe4a87c2f79c93c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a> (char *message)</td></tr>
<tr class="memdesc:a45ed24cbd1932b27fe4a87c2f79c93c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes message in OutFile.  <a href="#a45ed24cbd1932b27fe4a87c2f79c93c7">More...</a><br /></td></tr>
<tr class="separator:a45ed24cbd1932b27fe4a87c2f79c93c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeaca423f536f46620aefb6780881f61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#aeeaca423f536f46620aefb6780881f61">log_error</a> (void *address, <a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> actual_value, <a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> expected_value)</td></tr>
<tr class="memdesc:aeeaca423f536f46620aefb6780881f61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports SDC event in OutFile.  <a href="#aeeaca423f536f46620aefb6780881f61">More...</a><br /></td></tr>
<tr class="separator:aeeaca423f536f46620aefb6780881f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aeb6ac290912ba39d00bf0e31f9186d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a8aeb6ac290912ba39d00bf0e31f9186d">parse_arguments</a> (int argc, char *argv[])</td></tr>
<tr class="memdesc:a8aeb6ac290912ba39d00bf0e31f9186d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parser for commandline arguments.  <a href="#a8aeb6ac290912ba39d00bf0e31f9186d">More...</a><br /></td></tr>
<tr class="separator:a8aeb6ac290912ba39d00bf0e31f9186d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a767128a69bdfad046920286832102a40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a767128a69bdfad046920286832102a40">print_usage</a> (char *program_name)</td></tr>
<tr class="memdesc:a767128a69bdfad046920286832102a40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints application help string.  <a href="#a767128a69bdfad046920286832102a40">More...</a><br /></td></tr>
<tr class="separator:a767128a69bdfad046920286832102a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3195a832de42a48ee4ef09e43fdf3f67"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a3195a832de42a48ee4ef09e43fdf3f67">check_no_daemon_running</a> ()</td></tr>
<tr class="memdesc:a3195a832de42a48ee4ef09e43fdf3f67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for running daemon.  <a href="#a3195a832de42a48ee4ef09e43fdf3f67">More...</a><br /></td></tr>
<tr class="separator:a3195a832de42a48ee4ef09e43fdf3f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae72219dbf64a151040f10fb3aa4c8c0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#ae72219dbf64a151040f10fb3aa4c8c0d">initialize_cpu_memory</a> ()</td></tr>
<tr class="memdesc:ae72219dbf64a151040f10fb3aa4c8c0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates CPU memory region and set to 0.  <a href="#ae72219dbf64a151040f10fb3aa4c8c0d">More...</a><br /></td></tr>
<tr class="separator:ae72219dbf64a151040f10fb3aa4c8c0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07abc58767852eeb43565ccbf653d675"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a07abc58767852eeb43565ccbf653d675">initialize_gpu_memory</a> ()</td></tr>
<tr class="memdesc:a07abc58767852eeb43565ccbf653d675"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates GPU memory region and set to 0.  <a href="#a07abc58767852eeb43565ccbf653d675">More...</a><br /></td></tr>
<tr class="separator:a07abc58767852eeb43565ccbf653d675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9752f2d320edf40035b4dc8b04792098"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a9752f2d320edf40035b4dc8b04792098">free_cpu_memory</a> ()</td></tr>
<tr class="memdesc:a9752f2d320edf40035b4dc8b04792098"><td class="mdescLeft">&#160;</td><td class="mdescRight">De-allocates CPU memory.  <a href="#a9752f2d320edf40035b4dc8b04792098">More...</a><br /></td></tr>
<tr class="separator:a9752f2d320edf40035b4dc8b04792098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92a5eb737fdb19db87792409e0e311e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a92a5eb737fdb19db87792409e0e311e8">free_gpu_memory</a> ()</td></tr>
<tr class="memdesc:a92a5eb737fdb19db87792409e0e311e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">De-allocates GPU memory.  <a href="#a92a5eb737fdb19db87792409e0e311e8">More...</a><br /></td></tr>
<tr class="separator:a92a5eb737fdb19db87792409e0e311e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e2f72a981c64aefe314e745b28b6387"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a0e2f72a981c64aefe314e745b28b6387">start_daemon</a> ()</td></tr>
<tr class="memdesc:a0e2f72a981c64aefe314e745b28b6387"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates GPU memory region and set to 0.  <a href="#a0e2f72a981c64aefe314e745b28b6387">More...</a><br /></td></tr>
<tr class="separator:a0e2f72a981c64aefe314e745b28b6387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a725630dc6f9856b1349100761924050f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a725630dc6f9856b1349100761924050f">stop_daemon</a> ()</td></tr>
<tr class="memdesc:a725630dc6f9856b1349100761924050f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start client as daemon.  <a href="#a725630dc6f9856b1349100761924050f">More...</a><br /></td></tr>
<tr class="separator:a725630dc6f9856b1349100761924050f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a169c97e4c12b7a6fd7f8529799b09c5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a169c97e4c12b7a6fd7f8529799b09c5c">start_client</a> ()</td></tr>
<tr class="memdesc:a169c97e4c12b7a6fd7f8529799b09c5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start daemon thread and exit.  <a href="#a169c97e4c12b7a6fd7f8529799b09c5c">More...</a><br /></td></tr>
<tr class="separator:a169c97e4c12b7a6fd7f8529799b09c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46f21472b4222116208fc0fcf88f84dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a46f21472b4222116208fc0fcf88f84dd">sigterm_signal_handler</a> (int signum)</td></tr>
<tr class="memdesc:a46f21472b4222116208fc0fcf88f84dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log signal type and exit.  <a href="#a46f21472b4222116208fc0fcf88f84dd">More...</a><br /></td></tr>
<tr class="separator:a46f21472b4222116208fc0fcf88f84dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b4395ac986cc7ae86b35f1ef4f331f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a8b4395ac986cc7ae86b35f1ef4f331f0">sigint_signal_handler</a> (int signum)</td></tr>
<tr class="memdesc:a8b4395ac986cc7ae86b35f1ef4f331f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log signal type and exit.  <a href="#a8b4395ac986cc7ae86b35f1ef4f331f0">More...</a><br /></td></tr>
<tr class="separator:a8b4395ac986cc7ae86b35f1ef4f331f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4ba1ee53cc3aef03b724fd71bc0759a"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#af4ba1ee53cc3aef03b724fd71bc0759a">get_formatted_timestamp</a> (char *out_time_formatted, unsigned char num_bytes)</td></tr>
<tr class="memdesc:af4ba1ee53cc3aef03b724fd71bc0759a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets formatted time string.  <a href="#af4ba1ee53cc3aef03b724fd71bc0759a">More...</a><br /></td></tr>
<tr class="separator:af4ba1ee53cc3aef03b724fd71bc0759a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f405b81728336029e34d7fd8c408cf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a4f405b81728336029e34d7fd8c408cf9">memory_test_loop</a> (<a class="el" href="MemoryReliability__decl_8h.html#a6649194b85c248005f56df75ef5e6a6f">Strategy_t</a> type)</td></tr>
<tr class="memdesc:a4f405b81728336029e34d7fd8c408cf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start memory test loop.  <a href="#a4f405b81728336029e34d7fd8c408cf9">More...</a><br /></td></tr>
<tr class="separator:a4f405b81728336029e34d7fd8c408cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20578375c96b3ede086d0adb53ad2e41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a20578375c96b3ede086d0adb53ad2e41">simple_memory_test</a> ()</td></tr>
<tr class="memdesc:a20578375c96b3ede086d0adb53ad2e41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple memory test.  <a href="#a20578375c96b3ede086d0adb53ad2e41">More...</a><br /></td></tr>
<tr class="separator:a20578375c96b3ede086d0adb53ad2e41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d3a17d3b8fc429d058ca9856169a409"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a5d3a17d3b8fc429d058ca9856169a409">zero_one_test</a> ()</td></tr>
<tr class="memdesc:a5d3a17d3b8fc429d058ca9856169a409"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zero one memory test.  <a href="#a5d3a17d3b8fc429d058ca9856169a409">More...</a><br /></td></tr>
<tr class="separator:a5d3a17d3b8fc429d058ca9856169a409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c8d92afdf8591f541b7322ccf1c6880"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a8c8d92afdf8591f541b7322ccf1c6880">random_pattern_test</a> ()</td></tr>
<tr class="memdesc:a8c8d92afdf8591f541b7322ccf1c6880"><td class="mdescLeft">&#160;</td><td class="mdescRight">Random pattern memory test.  <a href="#a8c8d92afdf8591f541b7322ccf1c6880">More...</a><br /></td></tr>
<tr class="separator:a8c8d92afdf8591f541b7322ccf1c6880"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58440a1b2a0fcc331798ecc2db7b1efe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a58440a1b2a0fcc331798ecc2db7b1efe">check_cpu_mem</a> (<a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> *buffer, unsigned long long num_bytes, <a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> expected_value, <a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> new_value)</td></tr>
<tr class="memdesc:a58440a1b2a0fcc331798ecc2db7b1efe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scans memory for SDC (CPU)  <a href="#a58440a1b2a0fcc331798ecc2db7b1efe">More...</a><br /></td></tr>
<tr class="separator:a58440a1b2a0fcc331798ecc2db7b1efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16cc33d651366d4a961f9f6cfcdba65a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a16cc33d651366d4a961f9f6cfcdba65a">check_gpu_mem</a> (<a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> *buffer, unsigned long long num_bytes, <a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> expected_value, <a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> new_value)</td></tr>
<tr class="memdesc:a16cc33d651366d4a961f9f6cfcdba65a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scans memory for SDC (GPU)  <a href="#a16cc33d651366d4a961f9f6cfcdba65a">More...</a><br /></td></tr>
<tr class="separator:a16cc33d651366d4a961f9f6cfcdba65a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af85444147b22074f7c8b93b19c00b5b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#af85444147b22074f7c8b93b19c00b5b1">daemon_pid_write_to_file</a> (pid_t pid)</td></tr>
<tr class="memdesc:af85444147b22074f7c8b93b19c00b5b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store pid of daemon.  <a href="#af85444147b22074f7c8b93b19c00b5b1">More...</a><br /></td></tr>
<tr class="separator:af85444147b22074f7c8b93b19c00b5b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0852cce320ecee4a2c156f15a5e35fdd"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a0852cce320ecee4a2c156f15a5e35fdd">daemon_pid_file_exists</a> ()</td></tr>
<tr class="memdesc:a0852cce320ecee4a2c156f15a5e35fdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if pid.txt exists.  <a href="#a0852cce320ecee4a2c156f15a5e35fdd">More...</a><br /></td></tr>
<tr class="separator:a0852cce320ecee4a2c156f15a5e35fdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a0247dd7e00cff4736803b995e28dba"><td class="memItemLeft" align="right" valign="top">pid_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a2a0247dd7e00cff4736803b995e28dba">daemon_pid_read_from_file</a> ()</td></tr>
<tr class="memdesc:a2a0247dd7e00cff4736803b995e28dba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads daemon pid from file pid.txt.  <a href="#a2a0247dd7e00cff4736803b995e28dba">More...</a><br /></td></tr>
<tr class="separator:a2a0247dd7e00cff4736803b995e28dba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae764984964cc81569b1df5336419a508"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#ae764984964cc81569b1df5336419a508">daemon_pid_delete_file</a> ()</td></tr>
<tr class="memdesc:ae764984964cc81569b1df5336419a508"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes file pid.txt.  <a href="#ae764984964cc81569b1df5336419a508">More...</a><br /></td></tr>
<tr class="separator:ae764984964cc81569b1df5336419a508"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4cb2c54f096e4a83bf83cece97194aa6"><td class="memItemLeft" align="right" valign="top"><a id="a4cb2c54f096e4a83bf83cece97194aa6"></a>
const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>KILO</b></td></tr>
<tr class="separator:a4cb2c54f096e4a83bf83cece97194aa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b1c4ac30a66001159b11cf410b2c1b4"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a2b1c4ac30a66001159b11cf410b2c1b4">MEGA</a></td></tr>
<tr class="separator:a2b1c4ac30a66001159b11cf410b2c1b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ea0fc0d5d65c4b48708204f1b423e57"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a2ea0fc0d5d65c4b48708204f1b423e57">GIGA</a></td></tr>
<tr class="separator:a2ea0fc0d5d65c4b48708204f1b423e57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f4793418f51b998ca616dedadf67251"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a3f4793418f51b998ca616dedadf67251">PidFileName</a> [255]</td></tr>
<tr class="separator:a3f4793418f51b998ca616dedadf67251"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95b29e5ee170f3bd54c14fd82a3ad3e3"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a95b29e5ee170f3bd54c14fd82a3ad3e3">OutFile</a> [255]</td></tr>
<tr class="separator:a95b29e5ee170f3bd54c14fd82a3ad3e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea6acf2334f72fd7236bfd74e375e940"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#aea6acf2334f72fd7236bfd74e375e940">WarnFile</a> [255]</td></tr>
<tr class="separator:aea6acf2334f72fd7236bfd74e375e940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49290167105e1e81670e32ae9d8d18b6"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a49290167105e1e81670e32ae9d8d18b6">ErrFile</a> [255]</td></tr>
<tr class="separator:a49290167105e1e81670e32ae9d8d18b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae691b881848f04a83c54da86d5b3b354"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#ae691b881848f04a83c54da86d5b3b354">DbgFile</a> [255]</td></tr>
<tr class="separator:ae691b881848f04a83c54da86d5b3b354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a082dbb766746bc61e1e2e88fdbd413fc"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a082dbb766746bc61e1e2e88fdbd413fc">WarnRate</a></td></tr>
<tr class="separator:a082dbb766746bc61e1e2e88fdbd413fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a869c7522839e9c7414c7d6e7cdca2123"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a869c7522839e9c7414c7d6e7cdca2123">NumErrors</a></td></tr>
<tr class="separator:a869c7522839e9c7414c7d6e7cdca2123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c68067aa9bf4b23ef5cdbdd69a7c19"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a58c68067aa9bf4b23ef5cdbdd69a7c19">MAX_ITER</a></td></tr>
<tr class="separator:a58c68067aa9bf4b23ef5cdbdd69a7c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51173b54cc52b6d7328f9fe87aba9bbb"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a></td></tr>
<tr class="separator:a51173b54cc52b6d7328f9fe87aba9bbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af19b5b70151bdf6802ebd45e193cbc63"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#af19b5b70151bdf6802ebd45e193cbc63">ExitNow</a></td></tr>
<tr class="separator:af19b5b70151bdf6802ebd45e193cbc63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f202953dc19744ed27eb41b771ac5ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a7f202953dc19744ed27eb41b771ac5ab">IsDaemonStart</a></td></tr>
<tr class="separator:a7f202953dc19744ed27eb41b771ac5ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01f5465ccf75eac7d911a0bf73c6294d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a01f5465ccf75eac7d911a0bf73c6294d">IsDaemonStop</a></td></tr>
<tr class="separator:a01f5465ccf75eac7d911a0bf73c6294d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96dcf1f1a7190a76b02f3b306fb19fae"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a96dcf1f1a7190a76b02f3b306fb19fae">HostName</a> [255]</td></tr>
<tr class="separator:a96dcf1f1a7190a76b02f3b306fb19fae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf920351d282036874261dbb91ff95"><td class="memItemLeft" align="right" valign="top">unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a></td></tr>
<tr class="separator:a0ddf920351d282036874261dbb91ff95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1b27da322e2539f7dcdf778d644ab50"><td class="memItemLeft" align="right" valign="top">unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a></td></tr>
<tr class="separator:af1b27da322e2539f7dcdf778d644ab50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9278fdef519def4258cf6375a03834e"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#aa9278fdef519def4258cf6375a03834e">cpu_mem</a></td></tr>
<tr class="separator:aa9278fdef519def4258cf6375a03834e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a5f7d646cc094cefd9b0540e4c25eda"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a0a5f7d646cc094cefd9b0540e4c25eda">gpu_mem</a></td></tr>
<tr class="separator:a0a5f7d646cc094cefd9b0540e4c25eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e02335d6f92fe69486d739b379354fb"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a8e02335d6f92fe69486d739b379354fb">mem_pattern</a></td></tr>
<tr class="separator:a8e02335d6f92fe69486d739b379354fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85cd4ed1c5f59d4291263db042cd3aa2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a></td></tr>
<tr class="separator:a85cd4ed1c5f59d4291263db042cd3aa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a654d8cc4a11fe9438332b69bcfc01f40"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a></td></tr>
<tr class="separator:a654d8cc4a11fe9438332b69bcfc01f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main header file and interface for <a class="el" href="MemoryReliability_8c.html" title="Source for executable with main function. ">MemoryReliability.c</a>. </p>
<dl class="section author"><dt>Author</dt><dd>Ferad Zyulkyarov </dd>
<dd>
Kai Keller </dd>
<dd>
Pau Farré </dd>
<dd>
Leonardo Bautista-Gomez This file containis all include definition needed for the SDC tool. Further- more it contains the init values for all global variables. It also contains constant value definitions, global derived type definitions and function header. </dd></dl>

<p class="definition">Definition in file <a class="el" href="MemoryReliability__decl_8h_source.html">MemoryReliability_decl.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="ace4c2d81e27f62826d40d0d547b37ea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace4c2d81e27f62826d40d0d547b37ea8">&#9670;&nbsp;</a></span>ADDRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void* <a class="el" href="MemoryReliability__decl_8h.html#ace4c2d81e27f62826d40d0d547b37ea8">ADDRESS</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>defines ADDRVALUE type </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__decl_8h_source.html#l00127">127</a> of file <a class="el" href="MemoryReliability__decl_8h_source.html">MemoryReliability_decl.h</a>.</p>

</div>
</div>
<a id="a94baa001ce1e427d41bdddb61169df68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94baa001ce1e427d41bdddb61169df68">&#9670;&nbsp;</a></span>ADDRVALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uintptr_t <a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>flag if GPU memory is to monitor </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__decl_8h_source.html#l00126">126</a> of file <a class="el" href="MemoryReliability__decl_8h_source.html">MemoryReliability_decl.h</a>.</p>

</div>
</div>
<a id="a6649194b85c248005f56df75ef5e6a6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6649194b85c248005f56df75ef5e6a6f">&#9670;&nbsp;</a></span>Strategy_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="MemoryReliability__decl_8h.html#acf7192c608527efb8f8dedf0a3f2e706">Strategy</a>  <a class="el" href="MemoryReliability__decl_8h.html#a6649194b85c248005f56df75ef5e6a6f">Strategy_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Numerator to select test strategy. </p>
<p>defines ADDRESS type</p>
<p>SIMPLE -&gt; <a class="el" href="MemoryReliability__decl_8h.html#a20578375c96b3ede086d0adb53ad2e41" title="Simple memory test. ">simple_memory_test()</a> ZERO -&gt; <a class="el" href="MemoryReliability__decl_8h.html#a5d3a17d3b8fc429d058ca9856169a409" title="Zero one memory test. ">zero_one_test()</a> RANDOM -&gt; <a class="el" href="MemoryReliability__decl_8h.html#a8c8d92afdf8591f541b7322ccf1c6880" title="Random pattern memory test. ">random_pattern_test()</a> </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="acf7192c608527efb8f8dedf0a3f2e706"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf7192c608527efb8f8dedf0a3f2e706">&#9670;&nbsp;</a></span>Strategy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="MemoryReliability__decl_8h.html#acf7192c608527efb8f8dedf0a3f2e706">Strategy</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Numerator to select test strategy. </p>
<p>defines ADDRESS type</p>
<p>SIMPLE -&gt; <a class="el" href="MemoryReliability__decl_8h.html#a20578375c96b3ede086d0adb53ad2e41" title="Simple memory test. ">simple_memory_test()</a> ZERO -&gt; <a class="el" href="MemoryReliability__decl_8h.html#a5d3a17d3b8fc429d058ca9856169a409" title="Zero one memory test. ">zero_one_test()</a> RANDOM -&gt; <a class="el" href="MemoryReliability__decl_8h.html#a8c8d92afdf8591f541b7322ccf1c6880" title="Random pattern memory test. ">random_pattern_test()</a> </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__decl_8h_source.html#l00135">135</a> of file <a class="el" href="MemoryReliability__decl_8h_source.html">MemoryReliability_decl.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a58440a1b2a0fcc331798ecc2db7b1efe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58440a1b2a0fcc331798ecc2db7b1efe">&#9670;&nbsp;</a></span>check_cpu_mem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool check_cpu_mem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a>&#160;</td>
          <td class="paramname"><em>expected_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a>&#160;</td>
          <td class="paramname"><em>new_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scans memory for SDC (CPU) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>[in] pointer to allocation </td></tr>
    <tr><td class="paramname">num_bytes</td><td>[in] size of allocation </td></tr>
    <tr><td class="paramname">expected_value</td><td>[in] expected memory pattern </td></tr>
    <tr><td class="paramname">new_value</td><td>[in] new pattern</td></tr>
  </table>
  </dd>
</dl>
<p>This function scans the allocated memory region for SDC. Before the call, the memory region is partitioned to uintptr_t size words and set set to a defined pattern. Within the function, the allocated memory is compared against this pattern. If the expected value and the found value do not coincide, an error is logged as SDC. After the call the memory region will be set to the new pattern 'new_value'</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="memcheck_8c.html#a58440a1b2a0fcc331798ecc2db7b1efe">check_cpu_mem</a>(<a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a>* buffer,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> num_bytes,</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                   <a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> expected_value,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                   <a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> new_value)</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">long</span> <span class="keywordtype">unsigned</span> num_words = num_bytes / <span class="keyword">sizeof</span>(<a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a>);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">long</span> <span class="keywordtype">unsigned</span> word = 0; word &lt; num_words; word++)</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> actual_value = buffer[word];</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keywordflow">if</span> (actual_value != expected_value)</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#aeeaca423f536f46620aefb6780881f61">log_error</a>(&amp;buffer[word], actual_value, expected_value);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        }</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        buffer[word] = new_value;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    }</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div><div class="ttc" id="MemoryReliability__decl_8h_html_a94baa001ce1e427d41bdddb61169df68"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a></div><div class="ttdeci">uintptr_t ADDRVALUE</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__decl_8h_source.html#l00126">MemoryReliability_decl.h:126</a></div></div>
<div class="ttc" id="memcheck_8c_html_a58440a1b2a0fcc331798ecc2db7b1efe"><div class="ttname"><a href="memcheck_8c.html#a58440a1b2a0fcc331798ecc2db7b1efe">check_cpu_mem</a></div><div class="ttdeci">bool check_cpu_mem(ADDRVALUE *buffer, unsigned long long num_bytes, ADDRVALUE expected_value, ADDRVALUE new_value)</div><div class="ttdoc">Scans memory for SDC (CPU) </div><div class="ttdef"><b>Definition:</b> <a href="memcheck_8c_source.html#l00046">memcheck.c:46</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_aeeaca423f536f46620aefb6780881f61"><div class="ttname"><a href="MemoryReliability__decl_8h.html#aeeaca423f536f46620aefb6780881f61">log_error</a></div><div class="ttdeci">void log_error(void *address, ADDRVALUE actual_value, ADDRVALUE expected_value)</div><div class="ttdoc">Reports SDC event in OutFile. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8c_source.html#l00110">logging.c:110</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="memcheck_8c_source.html#l00046">46</a> of file <a class="el" href="memcheck_8c_source.html">memcheck.c</a>.</p>

</div>
</div>
<a id="a16cc33d651366d4a961f9f6cfcdba65a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16cc33d651366d4a961f9f6cfcdba65a">&#9670;&nbsp;</a></span>check_gpu_mem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool check_gpu_mem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a>&#160;</td>
          <td class="paramname"><em>expected_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a>&#160;</td>
          <td class="paramname"><em>new_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scans memory for SDC (GPU) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>[in] pointer to allocation </td></tr>
    <tr><td class="paramname">num_bytes</td><td>[in] size of allocation </td></tr>
    <tr><td class="paramname">expected_value</td><td>[in] expected memory pattern </td></tr>
    <tr><td class="paramname">new_value</td><td>[in] new pattern</td></tr>
  </table>
  </dd>
</dl>
<p>This function scans the allocated memory region for SDC. Before the call, the memory region is partitioned to uintptr_t size words and set set to a defined pattern. Within the function, the allocated memory is compared against this pattern. If the expected value and the found value do not coincide, an error is logged as SDC. After the call the memory region will be set to the new pattern 'new_value'</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="memcheck_8c.html#a16cc33d651366d4a961f9f6cfcdba65a">check_gpu_mem</a>(<a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a>* buffer,</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> num_bytes,</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                   <a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> expected_value,</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                   <a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> new_value)</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#if defined(USE_CUDA)</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    check_gpu_stub(buffer, num_bytes, expected_value, new_value);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div><div class="ttc" id="MemoryReliability__decl_8h_html_a94baa001ce1e427d41bdddb61169df68"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a></div><div class="ttdeci">uintptr_t ADDRVALUE</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__decl_8h_source.html#l00126">MemoryReliability_decl.h:126</a></div></div>
<div class="ttc" id="memcheck_8c_html_a16cc33d651366d4a961f9f6cfcdba65a"><div class="ttname"><a href="memcheck_8c.html#a16cc33d651366d4a961f9f6cfcdba65a">check_gpu_mem</a></div><div class="ttdeci">bool check_gpu_mem(ADDRVALUE *buffer, unsigned long long num_bytes, ADDRVALUE expected_value, ADDRVALUE new_value)</div><div class="ttdoc">Scans memory for SDC (GPU) </div><div class="ttdef"><b>Definition:</b> <a href="memcheck_8c_source.html#l00067">memcheck.c:67</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="memcheck_8c_source.html#l00067">67</a> of file <a class="el" href="memcheck_8c_source.html">memcheck.c</a>.</p>

</div>
</div>
<a id="a3195a832de42a48ee4ef09e43fdf3f67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3195a832de42a48ee4ef09e43fdf3f67">&#9670;&nbsp;</a></span>check_no_daemon_running()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void check_no_daemon_running </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks for running daemon. </p>
<p>called during initialization if tool is supposed to run as daemon. If an instance of the daemon is already running, the client is exited and a warning is printed to stderr.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keywordtype">void</span> <a class="code" href="daemon_8c.html#a3195a832de42a48ee4ef09e43fdf3f67">check_no_daemon_running</a>()</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    pid_t pid = <a class="code" href="daemon_8c.html#a2a0247dd7e00cff4736803b995e28dba">daemon_pid_read_from_file</a>();</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">if</span> (pid != 0)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;It appears that an instance of this daemon is running because the %s pid file exists. If you are sure that there is no daemon running delete the pid file: %s.\n&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#a3f4793418f51b998ca616dedadf67251">PidFileName</a>, <a class="code" href="MemoryReliability__decl_8h.html#a3f4793418f51b998ca616dedadf67251">PidFileName</a>);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        exit(EXIT_FAILURE);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div><div class="ttc" id="daemon_8c_html_a2a0247dd7e00cff4736803b995e28dba"><div class="ttname"><a href="daemon_8c.html#a2a0247dd7e00cff4736803b995e28dba">daemon_pid_read_from_file</a></div><div class="ttdeci">pid_t daemon_pid_read_from_file()</div><div class="ttdoc">Reads daemon pid from file pid.txt. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00104">daemon.c:104</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a3f4793418f51b998ca616dedadf67251"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a3f4793418f51b998ca616dedadf67251">PidFileName</a></div><div class="ttdeci">char PidFileName[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00078">MemoryReliability_defs.c:78</a></div></div>
<div class="ttc" id="daemon_8c_html_a3195a832de42a48ee4ef09e43fdf3f67"><div class="ttname"><a href="daemon_8c.html#a3195a832de42a48ee4ef09e43fdf3f67">check_no_daemon_running</a></div><div class="ttdeci">void check_no_daemon_running()</div><div class="ttdoc">Checks for running daemon. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00062">daemon.c:62</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="daemon_8c_source.html#l00062">62</a> of file <a class="el" href="daemon_8c_source.html">daemon.c</a>.</p>

</div>
</div>
<a id="ae764984964cc81569b1df5336419a508"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae764984964cc81569b1df5336419a508">&#9670;&nbsp;</a></span>daemon_pid_delete_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void daemon_pid_delete_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes file pid.txt. </p>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="keywordtype">void</span> <a class="code" href="daemon_8c.html#ae764984964cc81569b1df5336419a508">daemon_pid_delete_file</a>()</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordtype">int</span> delete_status = <span class="keyword">remove</span>(<a class="code" href="MemoryReliability__decl_8h.html#a3f4793418f51b998ca616dedadf67251">PidFileName</a>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">if</span> (delete_status != 0)</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;ERROR: Cannot delete the file %s. Probably no such file exists.\n&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#a3f4793418f51b998ca616dedadf67251">PidFileName</a>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div><div class="ttc" id="MemoryReliability__decl_8h_html_a3f4793418f51b998ca616dedadf67251"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a3f4793418f51b998ca616dedadf67251">PidFileName</a></div><div class="ttdeci">char PidFileName[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00078">MemoryReliability_defs.c:78</a></div></div>
<div class="ttc" id="daemon_8c_html_ae764984964cc81569b1df5336419a508"><div class="ttname"><a href="daemon_8c.html#ae764984964cc81569b1df5336419a508">daemon_pid_delete_file</a></div><div class="ttdeci">void daemon_pid_delete_file()</div><div class="ttdoc">Removes file pid.txt. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00126">daemon.c:126</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="daemon_8c_source.html#l00126">126</a> of file <a class="el" href="daemon_8c_source.html">daemon.c</a>.</p>

</div>
</div>
<a id="a0852cce320ecee4a2c156f15a5e35fdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0852cce320ecee4a2c156f15a5e35fdd">&#9670;&nbsp;</a></span>daemon_pid_file_exists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char daemon_pid_file_exists </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if pid.txt exists. </p>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="daemon_8c.html#a0852cce320ecee4a2c156f15a5e35fdd">daemon_pid_file_exists</a>()</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;{</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> is_file_exists = 0;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    FILE *f = fopen(<a class="code" href="MemoryReliability__decl_8h.html#a3f4793418f51b998ca616dedadf67251">PidFileName</a>, <span class="stringliteral">&quot;w&quot;</span>);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">if</span> (f)</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        is_file_exists = 1;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        fclose(f);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">return</span> is_file_exists;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div><div class="ttc" id="daemon_8c_html_a0852cce320ecee4a2c156f15a5e35fdd"><div class="ttname"><a href="daemon_8c.html#a0852cce320ecee4a2c156f15a5e35fdd">daemon_pid_file_exists</a></div><div class="ttdeci">unsigned char daemon_pid_file_exists()</div><div class="ttdoc">Checks if pid.txt exists. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00088">daemon.c:88</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a3f4793418f51b998ca616dedadf67251"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a3f4793418f51b998ca616dedadf67251">PidFileName</a></div><div class="ttdeci">char PidFileName[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00078">MemoryReliability_defs.c:78</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="daemon_8c_source.html#l00088">88</a> of file <a class="el" href="daemon_8c_source.html">daemon.c</a>.</p>

</div>
</div>
<a id="a2a0247dd7e00cff4736803b995e28dba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a0247dd7e00cff4736803b995e28dba">&#9670;&nbsp;</a></span>daemon_pid_read_from_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pid_t daemon_pid_read_from_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads daemon pid from file pid.txt. </p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;pid_t <a class="code" href="daemon_8c.html#a2a0247dd7e00cff4736803b995e28dba">daemon_pid_read_from_file</a>()</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;{</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    pid_t pid = 0;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordtype">int</span> fscanStatus = 0;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    FILE *f = fopen(<a class="code" href="MemoryReliability__decl_8h.html#a3f4793418f51b998ca616dedadf67251">PidFileName</a>, <span class="stringliteral">&quot;r&quot;</span>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">if</span> (f)</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordtype">int</span> pid_int = 0;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        fscanStatus = fscanf(f, <span class="stringliteral">&quot;%d&quot;</span>, &amp;pid_int);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">if</span> (fscanStatus &lt;= 0)</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;ERROR: Cannot fscanf file %s for pid.\n&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#a3f4793418f51b998ca616dedadf67251">PidFileName</a>);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        pid = (pid_t)pid_int;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        fclose(f);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">return</span> pid;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div><div class="ttc" id="daemon_8c_html_a2a0247dd7e00cff4736803b995e28dba"><div class="ttname"><a href="daemon_8c.html#a2a0247dd7e00cff4736803b995e28dba">daemon_pid_read_from_file</a></div><div class="ttdeci">pid_t daemon_pid_read_from_file()</div><div class="ttdoc">Reads daemon pid from file pid.txt. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00104">daemon.c:104</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a3f4793418f51b998ca616dedadf67251"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a3f4793418f51b998ca616dedadf67251">PidFileName</a></div><div class="ttdeci">char PidFileName[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00078">MemoryReliability_defs.c:78</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="daemon_8c_source.html#l00104">104</a> of file <a class="el" href="daemon_8c_source.html">daemon.c</a>.</p>

</div>
</div>
<a id="af85444147b22074f7c8b93b19c00b5b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af85444147b22074f7c8b93b19c00b5b1">&#9670;&nbsp;</a></span>daemon_pid_write_to_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void daemon_pid_write_to_file </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store pid of daemon. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>[in] pid of damon thread</td></tr>
  </table>
  </dd>
</dl>
<p>This function writes the pid of the daemon process into a text file</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keywordtype">void</span> <a class="code" href="daemon_8c.html#af85444147b22074f7c8b93b19c00b5b1">daemon_pid_write_to_file</a>(pid_t pid)</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    FILE *f = fopen(<a class="code" href="MemoryReliability__decl_8h.html#a3f4793418f51b998ca616dedadf67251">PidFileName</a>, <span class="stringliteral">&quot;w+&quot;</span>);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">if</span> (!f)</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;ERROR: Cannot create a daemon pid file.\n&quot;</span>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        exit(EXIT_FAILURE);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    fprintf(f, <span class="stringliteral">&quot;%d&quot;</span>, pid);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    fclose(f);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div><div class="ttc" id="daemon_8c_html_af85444147b22074f7c8b93b19c00b5b1"><div class="ttname"><a href="daemon_8c.html#af85444147b22074f7c8b93b19c00b5b1">daemon_pid_write_to_file</a></div><div class="ttdeci">void daemon_pid_write_to_file(pid_t pid)</div><div class="ttdoc">Store pid of daemon. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00074">daemon.c:74</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a3f4793418f51b998ca616dedadf67251"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a3f4793418f51b998ca616dedadf67251">PidFileName</a></div><div class="ttdeci">char PidFileName[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00078">MemoryReliability_defs.c:78</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="daemon_8c_source.html#l00074">74</a> of file <a class="el" href="daemon_8c_source.html">daemon.c</a>.</p>

</div>
</div>
<a id="a9752f2d320edf40035b4dc8b04792098"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9752f2d320edf40035b4dc8b04792098">&#9670;&nbsp;</a></span>free_cpu_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_cpu_memory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>De-allocates CPU memory. </p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="keywordtype">void</span> <a class="code" href="tools_8c.html#a9752f2d320edf40035b4dc8b04792098">free_cpu_memory</a>()</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;{</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    free(<a class="code" href="MemoryReliability__decl_8h.html#aa9278fdef519def4258cf6375a03834e">cpu_mem</a>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div><div class="ttc" id="MemoryReliability__decl_8h_html_aa9278fdef519def4258cf6375a03834e"><div class="ttname"><a href="MemoryReliability__decl_8h.html#aa9278fdef519def4258cf6375a03834e">cpu_mem</a></div><div class="ttdeci">void * cpu_mem</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00064">MemoryReliability_defs.c:64</a></div></div>
<div class="ttc" id="tools_8c_html_a9752f2d320edf40035b4dc8b04792098"><div class="ttname"><a href="tools_8c.html#a9752f2d320edf40035b4dc8b04792098">free_cpu_memory</a></div><div class="ttdeci">void free_cpu_memory()</div><div class="ttdoc">De-allocates CPU memory. </div><div class="ttdef"><b>Definition:</b> <a href="tools_8c_source.html#l00120">tools.c:120</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00120">120</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

</div>
</div>
<a id="a92a5eb737fdb19db87792409e0e311e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92a5eb737fdb19db87792409e0e311e8">&#9670;&nbsp;</a></span>free_gpu_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_gpu_memory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>De-allocates GPU memory. </p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="keywordtype">void</span> <a class="code" href="tools_8c.html#a92a5eb737fdb19db87792409e0e311e8">free_gpu_memory</a>()</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="preprocessor">#ifdef USE_CUDA</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    cudaError_t err;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    err = cudaFree(<a class="code" href="MemoryReliability__decl_8h.html#a0a5f7d646cc094cefd9b0540e4c25eda">gpu_mem</a>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span> (err != cudaSuccess)</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordtype">char</span> msg[255];</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        sprintf(msg, <span class="stringliteral">&quot;ERROR_INFO,Cannot free GPU memory (%s:%s).&quot;</span>,</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    cudaGetErrorName(err), cudaGetErrorString(err));</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(msg);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        sleep(2);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a0852cce320ecee4a2c156f15a5e35fdd">daemon_pid_file_exists</a>())</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#ae764984964cc81569b1df5336419a508">daemon_pid_delete_file</a>();</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        exit(EXIT_FAILURE);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div><div class="ttc" id="MemoryReliability__decl_8h_html_a0a5f7d646cc094cefd9b0540e4c25eda"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a0a5f7d646cc094cefd9b0540e4c25eda">gpu_mem</a></div><div class="ttdeci">void * gpu_mem</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00065">MemoryReliability_defs.c:65</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a0852cce320ecee4a2c156f15a5e35fdd"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a0852cce320ecee4a2c156f15a5e35fdd">daemon_pid_file_exists</a></div><div class="ttdeci">unsigned char daemon_pid_file_exists()</div><div class="ttdoc">Checks if pid.txt exists. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00088">daemon.c:88</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_ae764984964cc81569b1df5336419a508"><div class="ttname"><a href="MemoryReliability__decl_8h.html#ae764984964cc81569b1df5336419a508">daemon_pid_delete_file</a></div><div class="ttdeci">void daemon_pid_delete_file()</div><div class="ttdoc">Removes file pid.txt. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00126">daemon.c:126</a></div></div>
<div class="ttc" id="tools_8c_html_a92a5eb737fdb19db87792409e0e311e8"><div class="ttname"><a href="tools_8c.html#a92a5eb737fdb19db87792409e0e311e8">free_gpu_memory</a></div><div class="ttdeci">void free_gpu_memory()</div><div class="ttdoc">De-allocates GPU memory. </div><div class="ttdef"><b>Definition:</b> <a href="tools_8c_source.html#l00127">tools.c:127</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a45ed24cbd1932b27fe4a87c2f79c93c7"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a></div><div class="ttdeci">void log_message(char *message)</div><div class="ttdoc">Writes message in OutFile. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8c_source.html#l00140">logging.c:140</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00127">127</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

</div>
</div>
<a id="af4ba1ee53cc3aef03b724fd71bc0759a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4ba1ee53cc3aef03b724fd71bc0759a">&#9670;&nbsp;</a></span>get_formatted_timestamp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t get_formatted_timestamp </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>out_time_formatted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>num_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets formatted time string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out_time_formatted</td><td>[out] formatted time string </td></tr>
    <tr><td class="paramname">num_bytes</td><td>[in] maximum length of time string</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;time_t <a class="code" href="logging_8c.html#af4ba1ee53cc3aef03b724fd71bc0759a">get_formatted_timestamp</a>(<span class="keywordtype">char</span>* out_time_formatted, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> num_bytes)</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;{</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    time_t rawtime;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keyword">struct </span>tm *info;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    time(&amp;rawtime);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    info = localtime(&amp;rawtime);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    strftime(out_time_formatted, num_bytes, <span class="stringliteral">&quot;%x - %H:%M:%S&quot;</span>, info);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">return</span> rawtime;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div><div class="ttc" id="logging_8c_html_af4ba1ee53cc3aef03b724fd71bc0759a"><div class="ttname"><a href="logging_8c.html#af4ba1ee53cc3aef03b724fd71bc0759a">get_formatted_timestamp</a></div><div class="ttdeci">time_t get_formatted_timestamp(char *out_time_formatted, unsigned char num_bytes)</div><div class="ttdoc">Sets formatted time string. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8c_source.html#l00088">logging.c:88</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="logging_8c_source.html#l00088">88</a> of file <a class="el" href="logging_8c_source.html">logging.c</a>.</p>

</div>
</div>
<a id="ae72219dbf64a151040f10fb3aa4c8c0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae72219dbf64a151040f10fb3aa4c8c0d">&#9670;&nbsp;</a></span>initialize_cpu_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initialize_cpu_memory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates CPU memory region and set to 0. </p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keywordtype">void</span> <a class="code" href="tools_8c.html#ae72219dbf64a151040f10fb3aa4c8c0d">initialize_cpu_memory</a>()</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> (!is_initialized(<a class="code" href="MemoryReliability__decl_8h.html#aa9278fdef519def4258cf6375a03834e">cpu_mem</a>))</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#aa9278fdef519def4258cf6375a03834e">cpu_mem</a> = malloc(<a class="code" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a>);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#aa9278fdef519def4258cf6375a03834e">cpu_mem</a> == NULL)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <span class="keywordtype">char</span> msg[255];</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            sprintf(msg, <span class="stringliteral">&quot;ERROR_INFO,Cannot allocate %llu number of CPU memory.&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a>);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(msg);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            sleep(2);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a0852cce320ecee4a2c156f15a5e35fdd">daemon_pid_file_exists</a>())</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                <a class="code" href="MemoryReliability__decl_8h.html#ae764984964cc81569b1df5336419a508">daemon_pid_delete_file</a>();</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            exit(EXIT_FAILURE);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        memset(<a class="code" href="MemoryReliability__decl_8h.html#aa9278fdef519def4258cf6375a03834e">cpu_mem</a>, 0x0, <a class="code" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a>);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div><div class="ttc" id="MemoryReliability__decl_8h_html_aa9278fdef519def4258cf6375a03834e"><div class="ttname"><a href="MemoryReliability__decl_8h.html#aa9278fdef519def4258cf6375a03834e">cpu_mem</a></div><div class="ttdeci">void * cpu_mem</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00064">MemoryReliability_defs.c:64</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a0852cce320ecee4a2c156f15a5e35fdd"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a0852cce320ecee4a2c156f15a5e35fdd">daemon_pid_file_exists</a></div><div class="ttdeci">unsigned char daemon_pid_file_exists()</div><div class="ttdoc">Checks if pid.txt exists. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00088">daemon.c:88</a></div></div>
<div class="ttc" id="tools_8c_html_ae72219dbf64a151040f10fb3aa4c8c0d"><div class="ttname"><a href="tools_8c.html#ae72219dbf64a151040f10fb3aa4c8c0d">initialize_cpu_memory</a></div><div class="ttdeci">void initialize_cpu_memory()</div><div class="ttdoc">Allocates CPU memory region and set to 0. </div><div class="ttdef"><b>Definition:</b> <a href="tools_8c_source.html#l00060">tools.c:60</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_ae764984964cc81569b1df5336419a508"><div class="ttname"><a href="MemoryReliability__decl_8h.html#ae764984964cc81569b1df5336419a508">daemon_pid_delete_file</a></div><div class="ttdeci">void daemon_pid_delete_file()</div><div class="ttdoc">Removes file pid.txt. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00126">daemon.c:126</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a45ed24cbd1932b27fe4a87c2f79c93c7"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a></div><div class="ttdeci">void log_message(char *message)</div><div class="ttdoc">Writes message in OutFile. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8c_source.html#l00140">logging.c:140</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a0ddf920351d282036874261dbb91ff95"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a></div><div class="ttdeci">unsigned long long NumBytesCPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00062">MemoryReliability_defs.c:62</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00060">60</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

</div>
</div>
<a id="a07abc58767852eeb43565ccbf653d675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07abc58767852eeb43565ccbf653d675">&#9670;&nbsp;</a></span>initialize_gpu_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initialize_gpu_memory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates GPU memory region and set to 0. </p>
<div class="fragment"><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keywordtype">void</span> <a class="code" href="tools_8c.html#a07abc58767852eeb43565ccbf653d675">initialize_gpu_memory</a>()</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#ifdef USE_CUDA</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span> (is_initialized(<a class="code" href="MemoryReliability__decl_8h.html#a0a5f7d646cc094cefd9b0540e4c25eda">gpu_mem</a>)) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    cudaError_t err;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    err = cudaMalloc(&amp;<a class="code" href="MemoryReliability__decl_8h.html#a0a5f7d646cc094cefd9b0540e4c25eda">gpu_mem</a>, <a class="code" href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a>);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span> (err != cudaSuccess)</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordtype">char</span> msg[255];</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        sprintf(msg, <span class="stringliteral">&quot;ERROR_INFO,Cannot allocate %llu bytes of GPU memory (%s:%s).&quot;</span>,</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                <a class="code" href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a>, cudaGetErrorName(err), cudaGetErrorString(err));</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(msg);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        err = cudaMemset(<a class="code" href="MemoryReliability__decl_8h.html#a0a5f7d646cc094cefd9b0540e4c25eda">gpu_mem</a>, 0x0, <a class="code" href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">if</span> (err != cudaSuccess)</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="keywordtype">char</span> msg[255];</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            sprintf(msg, <span class="stringliteral">&quot;ERROR_INFO,Cannot memset %llu bytes of GPU memory (%s:%s).&quot;</span>,</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                    <a class="code" href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a>, cudaGetErrorName(err), cudaGetErrorString(err));</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(msg);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> (err != cudaSuccess) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        sleep(2);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a0852cce320ecee4a2c156f15a5e35fdd">daemon_pid_file_exists</a>())</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#ae764984964cc81569b1df5336419a508">daemon_pid_delete_file</a>();</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        exit(EXIT_FAILURE);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div><div class="ttc" id="tools_8c_html_a07abc58767852eeb43565ccbf653d675"><div class="ttname"><a href="tools_8c.html#a07abc58767852eeb43565ccbf653d675">initialize_gpu_memory</a></div><div class="ttdeci">void initialize_gpu_memory()</div><div class="ttdoc">Allocates GPU memory region and set to 0. </div><div class="ttdef"><b>Definition:</b> <a href="tools_8c_source.html#l00083">tools.c:83</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a0a5f7d646cc094cefd9b0540e4c25eda"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a0a5f7d646cc094cefd9b0540e4c25eda">gpu_mem</a></div><div class="ttdeci">void * gpu_mem</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00065">MemoryReliability_defs.c:65</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a0852cce320ecee4a2c156f15a5e35fdd"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a0852cce320ecee4a2c156f15a5e35fdd">daemon_pid_file_exists</a></div><div class="ttdeci">unsigned char daemon_pid_file_exists()</div><div class="ttdoc">Checks if pid.txt exists. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00088">daemon.c:88</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_ae764984964cc81569b1df5336419a508"><div class="ttname"><a href="MemoryReliability__decl_8h.html#ae764984964cc81569b1df5336419a508">daemon_pid_delete_file</a></div><div class="ttdeci">void daemon_pid_delete_file()</div><div class="ttdoc">Removes file pid.txt. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00126">daemon.c:126</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a45ed24cbd1932b27fe4a87c2f79c93c7"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a></div><div class="ttdeci">void log_message(char *message)</div><div class="ttdoc">Writes message in OutFile. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8c_source.html#l00140">logging.c:140</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_af1b27da322e2539f7dcdf778d644ab50"><div class="ttname"><a href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a></div><div class="ttdeci">unsigned long long NumBytesGPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00063">MemoryReliability_defs.c:63</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00083">83</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

</div>
</div>
<a id="aff93fd1322012d1b450c07fe2230eef4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff93fd1322012d1b450c07fe2230eef4">&#9670;&nbsp;</a></span>inject_cpu_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inject_cpu_error </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a>&#160;</td>
          <td class="paramname"><em>expected_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="MemoryReliability__decl_8h.html#a6649194b85c248005f56df75ef5e6a6f">Strategy_t</a>&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Injects error in CPU memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start</td><td>[in] pointer to memory allocation </td></tr>
    <tr><td class="paramname">expected_value</td><td>[in] expected bit pattern in memory </td></tr>
    <tr><td class="paramname">s</td><td>[in] monitoring strategy</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keywordtype">void</span> <a class="code" href="injection_8c.html#aff93fd1322012d1b450c07fe2230eef4">inject_cpu_error</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* start, <a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> expected_value, <a class="code" href="MemoryReliability__decl_8h.html#a6649194b85c248005f56df75ef5e6a6f">Strategy_t</a> s)</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#ifdef INJECT_ERR</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">if</span> (s != SIMPLE)</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        uint64_t MAX_EXP_VAL = 0;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> MAX_EXP = 0;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordflow">while</span>( ( (MAX_EXP_VAL&lt;&lt;1) &lt; <a class="code" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a> ) &amp;&amp; ( MAX_EXP &lt; <a class="code" href="MemoryReliability__decl_8h.html#a58c68067aa9bf4b23ef5cdbdd69a7c19">MAX_ITER</a> ) ) {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            MAX_EXP_VAL = (uint64_t) 1 &lt;&lt; MAX_EXP;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            MAX_EXP++;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        }</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordtype">int</span> riter = rand()%10 + 1;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keywordflow">if</span> (riter == 5) {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <a class="code" href="struct__ru64.html">ru64</a> r_gen;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> r_off;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            r_gen.p1 = rand();</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            r_gen.p2 = rand();</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            memcpy(&amp;r_off, &amp;r_gen, <span class="keyword">sizeof</span>(<a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a>));</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            r_off &amp;= <a class="code" href="injection_8h.html#a50803949b09a84dc2c1c693dd162def0">r_off_masks</a>[rand()%MAX_EXP];</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            r_off = (r_off%<a class="code" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a>);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ptr_data = start + r_off;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <span class="keywordflow">if</span> (s == ZERO) {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                memset(ptr_data, 0x1, 1);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            }</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            uintptr_t ptrmask = <span class="keyword">sizeof</span>(uintptr_t)-1;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            ptr_data = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*) ((uintptr_t)ptr_data &amp; ~ptrmask);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <span class="keywordflow">if</span> (s == RANDOM) {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                *ptr_data = ~expected_value;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="keywordtype">char</span> msg[1000];</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            snprintf(msg,1000,<span class="stringliteral">&quot;Inject error at: %p (CPU), memory allocation starts at: %p&quot;</span>, ptr_data, start);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(msg);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div><div class="ttc" id="MemoryReliability__decl_8h_html_a94baa001ce1e427d41bdddb61169df68"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a></div><div class="ttdeci">uintptr_t ADDRVALUE</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__decl_8h_source.html#l00126">MemoryReliability_decl.h:126</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a58c68067aa9bf4b23ef5cdbdd69a7c19"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a58c68067aa9bf4b23ef5cdbdd69a7c19">MAX_ITER</a></div><div class="ttdeci">const unsigned int MAX_ITER</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00058">MemoryReliability_defs.c:58</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a6649194b85c248005f56df75ef5e6a6f"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a6649194b85c248005f56df75ef5e6a6f">Strategy_t</a></div><div class="ttdeci">enum Strategy Strategy_t</div><div class="ttdoc">Numerator to select test strategy. </div></div>
<div class="ttc" id="injection_8h_html_a50803949b09a84dc2c1c693dd162def0"><div class="ttname"><a href="injection_8h.html#a50803949b09a84dc2c1c693dd162def0">r_off_masks</a></div><div class="ttdeci">uint64_t r_off_masks[64]</div><div class="ttdoc">bit mask array </div><div class="ttdef"><b>Definition:</b> <a href="injection_8h_source.html#l00061">injection.h:61</a></div></div>
<div class="ttc" id="struct__ru64_html"><div class="ttname"><a href="struct__ru64.html">_ru64</a></div><div class="ttdoc">temp value for 64 bit random number generation </div><div class="ttdef"><b>Definition:</b> <a href="injection_8h_source.html#l00052">injection.h:52</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a45ed24cbd1932b27fe4a87c2f79c93c7"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a></div><div class="ttdeci">void log_message(char *message)</div><div class="ttdoc">Writes message in OutFile. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8c_source.html#l00140">logging.c:140</a></div></div>
<div class="ttc" id="injection_8c_html_aff93fd1322012d1b450c07fe2230eef4"><div class="ttname"><a href="injection_8c.html#aff93fd1322012d1b450c07fe2230eef4">inject_cpu_error</a></div><div class="ttdeci">void inject_cpu_error(unsigned char *start, ADDRVALUE expected_value, Strategy_t s)</div><div class="ttdoc">Injects error in CPU memory. </div><div class="ttdef"><b>Definition:</b> <a href="injection_8c_source.html#l00046">injection.c:46</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a0ddf920351d282036874261dbb91ff95"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a></div><div class="ttdeci">unsigned long long NumBytesCPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00062">MemoryReliability_defs.c:62</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="injection_8c_source.html#l00046">46</a> of file <a class="el" href="injection_8c_source.html">injection.c</a>.</p>

</div>
</div>
<a id="a6a49a6091705e944e3a6b05d0be3c3ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a49a6091705e944e3a6b05d0be3c3ce">&#9670;&nbsp;</a></span>inject_gpu_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inject_gpu_error </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a>&#160;</td>
          <td class="paramname"><em>expected_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="MemoryReliability__decl_8h.html#a6649194b85c248005f56df75ef5e6a6f">Strategy_t</a>&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Injects error in GPU memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start</td><td>[in] pointer to memory allocation </td></tr>
    <tr><td class="paramname">expected_value</td><td>[in] expected bit pattern in memory </td></tr>
    <tr><td class="paramname">s</td><td>[in] monitoring strategy</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keywordtype">void</span> <a class="code" href="injection_8c.html#a6a49a6091705e944e3a6b05d0be3c3ce">inject_gpu_error</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* start, <a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> expected_value, <a class="code" href="MemoryReliability__decl_8h.html#a6649194b85c248005f56df75ef5e6a6f">Strategy_t</a> s)</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;{</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#if defined(INJECT_ERR) &amp;&amp; defined(USE_CUDA)</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span> (s != SIMPLE)</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordtype">int</span> riter = rand()%10 + 1;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">if</span> (riter == 5) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ruibytes;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="keywordtype">int</span> ribytes = rand();</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            memcpy(&amp;ruibytes, &amp;ribytes, <span class="keyword">sizeof</span>(ribytes));</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            ruibytes = (ruibytes%<a class="code" href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* ptr_data = start + ruibytes;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <span class="keywordflow">if</span> (s == ZERO) {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                cudaError_t err = cudaMemset(ptr_data, 0x1, 1);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="keywordflow">if</span> (err != cudaSuccess)</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                    <span class="keywordtype">char</span> msg[255];</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                    sprintf(msg, <span class="stringliteral">&quot;ERROR,Cannot memset ptr_data to 0x1 (%s:%s).&quot;</span>,</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                            cudaGetErrorName(err), cudaGetErrorString(err));</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                    <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(msg);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            }</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            uintptr_t ptrmask = <span class="keyword">sizeof</span>(uintptr_t)-1;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            ptr_data = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*) ((uintptr_t)ptr_data &amp; ~ptrmask);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> new_value = ~expected_value;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordflow">if</span> (s == RANDOM) {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                cudaError_t err = cudaMemcpy(ptr_data, &amp;new_value, <span class="keyword">sizeof</span>(<a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a>), cudaMemcpyHostToDevice);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <span class="keywordflow">if</span> (err != cudaSuccess)</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    <span class="keywordtype">char</span> msg[255];</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    sprintf(msg, <span class="stringliteral">&quot;ERROR,Cannot memcpy ptr_data to GPU (%s:%s).&quot;</span>,</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                            cudaGetErrorName(err), cudaGetErrorString(err));</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                    <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(msg);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordtype">char</span> msg[1000];</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            snprintf(msg,1000,<span class="stringliteral">&quot;Inject error at %p (GPU)&quot;</span>, ptr_data);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(msg);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div><div class="ttc" id="MemoryReliability__decl_8h_html_a94baa001ce1e427d41bdddb61169df68"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a></div><div class="ttdeci">uintptr_t ADDRVALUE</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__decl_8h_source.html#l00126">MemoryReliability_decl.h:126</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a6649194b85c248005f56df75ef5e6a6f"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a6649194b85c248005f56df75ef5e6a6f">Strategy_t</a></div><div class="ttdeci">enum Strategy Strategy_t</div><div class="ttdoc">Numerator to select test strategy. </div></div>
<div class="ttc" id="injection_8c_html_a6a49a6091705e944e3a6b05d0be3c3ce"><div class="ttname"><a href="injection_8c.html#a6a49a6091705e944e3a6b05d0be3c3ce">inject_gpu_error</a></div><div class="ttdeci">void inject_gpu_error(unsigned char *start, ADDRVALUE expected_value, Strategy_t s)</div><div class="ttdoc">Injects error in GPU memory. </div><div class="ttdef"><b>Definition:</b> <a href="injection_8c_source.html#l00087">injection.c:87</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a45ed24cbd1932b27fe4a87c2f79c93c7"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a></div><div class="ttdeci">void log_message(char *message)</div><div class="ttdoc">Writes message in OutFile. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8c_source.html#l00140">logging.c:140</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_af1b27da322e2539f7dcdf778d644ab50"><div class="ttname"><a href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a></div><div class="ttdeci">unsigned long long NumBytesGPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00063">MemoryReliability_defs.c:63</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="injection_8c_source.html#l00087">87</a> of file <a class="el" href="injection_8c_source.html">injection.c</a>.</p>

</div>
</div>
<a id="aeeaca423f536f46620aefb6780881f61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeaca423f536f46620aefb6780881f61">&#9670;&nbsp;</a></span>log_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_error </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a>&#160;</td>
          <td class="paramname"><em>actual_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a>&#160;</td>
          <td class="paramname"><em>expected_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reports SDC event in OutFile. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>[in] message string</td></tr>
  </table>
  </dd>
</dl>
<p>writes in the following order to the output file (set in OutFile) in one line: formatted time, time in ns, hostname, virtual address, pattern found, pattern expected, temperature, physical address</p>
<p>notice: temperature and physical address will only be shown if application runs with administrator rights.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="keywordtype">void</span> <a class="code" href="logging_8c.html#aeeaca423f536f46620aefb6780881f61">log_error</a>(<span class="keywordtype">void</span>* address, <a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> actual_value, <a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> expected_value)</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;{</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordtype">char</span> time_str[255];</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    time_t time = <a class="code" href="logging_8c.html#af4ba1ee53cc3aef03b724fd71bc0759a">get_formatted_timestamp</a>(time_str, 255);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordtype">int</span> temperature = read_temperature();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> physical_address = 0;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="MemoryReliability__decl_8h.html#a869c7522839e9c7414c7d6e7cdca2123">NumErrors</a>++;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    FILE *f = fopen(<a class="code" href="MemoryReliability__decl_8h.html#a95b29e5ee170f3bd54c14fd82a3ad3e3">OutFile</a>, <span class="stringliteral">&quot;a+&quot;</span>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">if</span> (!f)</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        printf(<span class="stringliteral">&quot;ERROR, something went wrong opening file %s!: %s\n&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#a95b29e5ee170f3bd54c14fd82a3ad3e3">OutFile</a>, strerror(errno));</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        exit(EXIT_FAILURE);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordtype">int</span> field_width_value = 16;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    physical_address = <a class="code" href="MemoryReliability__decl_8h.html#a1ba9f22da04fa0e126afc734a4a3713d">virtual_to_physical_address</a>((<a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a>)address);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    fprintf(f, <span class="stringliteral">&quot;%s,%lld,ERROR,%s,%p,0x%*&quot;</span> PRIxPTR <span class="stringliteral">&quot;,0x%*&quot;</span> PRIxPTR <span class="stringliteral">&quot;,%d,0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;\n&quot;</span>, </div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            time_str, (<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>)time, <a class="code" href="MemoryReliability__decl_8h.html#a96dcf1f1a7190a76b02f3b306fb19fae">HostName</a>, address, field_width_value, </div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            actual_value, field_width_value, expected_value, temperature, </div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            physical_address);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    fclose(f);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a869c7522839e9c7414c7d6e7cdca2123">NumErrors</a> == <a class="code" href="MemoryReliability__decl_8h.html#a082dbb766746bc61e1e2e88fdbd413fc">WarnRate</a>)</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <a class="code" href="logging_8c.html#a9f9f18799479ea22992229092097bcb9">warn_for_errors</a>();</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div><div class="ttc" id="MemoryReliability__decl_8h_html_a94baa001ce1e427d41bdddb61169df68"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a></div><div class="ttdeci">uintptr_t ADDRVALUE</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__decl_8h_source.html#l00126">MemoryReliability_decl.h:126</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a082dbb766746bc61e1e2e88fdbd413fc"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a082dbb766746bc61e1e2e88fdbd413fc">WarnRate</a></div><div class="ttdeci">unsigned int WarnRate</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00084">MemoryReliability_defs.c:84</a></div></div>
<div class="ttc" id="logging_8c_html_a9f9f18799479ea22992229092097bcb9"><div class="ttname"><a href="logging_8c.html#a9f9f18799479ea22992229092097bcb9">warn_for_errors</a></div><div class="ttdeci">void warn_for_errors()</div><div class="ttdoc">Warns if amount of errors exceed a certain value TODO. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8c_source.html#l00099">logging.c:99</a></div></div>
<div class="ttc" id="logging_8c_html_af4ba1ee53cc3aef03b724fd71bc0759a"><div class="ttname"><a href="logging_8c.html#af4ba1ee53cc3aef03b724fd71bc0759a">get_formatted_timestamp</a></div><div class="ttdeci">time_t get_formatted_timestamp(char *out_time_formatted, unsigned char num_bytes)</div><div class="ttdoc">Sets formatted time string. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8c_source.html#l00088">logging.c:88</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a96dcf1f1a7190a76b02f3b306fb19fae"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a96dcf1f1a7190a76b02f3b306fb19fae">HostName</a></div><div class="ttdeci">char HostName[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00060">MemoryReliability_defs.c:60</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a95b29e5ee170f3bd54c14fd82a3ad3e3"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a95b29e5ee170f3bd54c14fd82a3ad3e3">OutFile</a></div><div class="ttdeci">char OutFile[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00079">MemoryReliability_defs.c:79</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a869c7522839e9c7414c7d6e7cdca2123"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a869c7522839e9c7414c7d6e7cdca2123">NumErrors</a></div><div class="ttdeci">unsigned int NumErrors</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00085">MemoryReliability_defs.c:85</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a1ba9f22da04fa0e126afc734a4a3713d"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a1ba9f22da04fa0e126afc734a4a3713d">virtual_to_physical_address</a></div><div class="ttdeci">uintptr_t virtual_to_physical_address(uintptr_t virt_addr)</div><div class="ttdoc">Translates a virtual address to the physical address. </div><div class="ttdef"><b>Definition:</b> <a href="addresstranslation_8c_source.html#l00045">addresstranslation.c:45</a></div></div>
<div class="ttc" id="logging_8c_html_aeeaca423f536f46620aefb6780881f61"><div class="ttname"><a href="logging_8c.html#aeeaca423f536f46620aefb6780881f61">log_error</a></div><div class="ttdeci">void log_error(void *address, ADDRVALUE actual_value, ADDRVALUE expected_value)</div><div class="ttdoc">Reports SDC event in OutFile. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8c_source.html#l00110">logging.c:110</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="logging_8c_source.html#l00110">110</a> of file <a class="el" href="logging_8c_source.html">logging.c</a>.</p>

</div>
</div>
<a id="a45ed24cbd1932b27fe4a87c2f79c93c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45ed24cbd1932b27fe4a87c2f79c93c7">&#9670;&nbsp;</a></span>log_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_message </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes message in OutFile. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>[in] message string</td></tr>
  </table>
  </dd>
</dl>
<p>writes in the following order to the output file (set in OutFile) in one line: formatted time, time in ns, message, hostname, temperature</p>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="keywordtype">void</span> <a class="code" href="logging_8c.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(<span class="keywordtype">char</span>* message)</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordtype">char</span> time_str[255];</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    time_t time = <a class="code" href="logging_8c.html#af4ba1ee53cc3aef03b724fd71bc0759a">get_formatted_timestamp</a>(time_str, 255);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordtype">int</span> temperature = 0;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    FILE *f = fopen(<a class="code" href="MemoryReliability__decl_8h.html#a95b29e5ee170f3bd54c14fd82a3ad3e3">OutFile</a>, <span class="stringliteral">&quot;a+&quot;</span>);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span> (!f)</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        printf(<span class="stringliteral">&quot;ERROR, something went wrong opening file %s!: %s\n&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#a95b29e5ee170f3bd54c14fd82a3ad3e3">OutFile</a>, strerror(errno));</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        exit(EXIT_FAILURE);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    temperature = read_temperature();</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    fprintf(f, <span class="stringliteral">&quot;%s,%lld,%s,%s,%d\n&quot;</span>, time_str, (<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>)time, message, <a class="code" href="MemoryReliability__decl_8h.html#a96dcf1f1a7190a76b02f3b306fb19fae">HostName</a>, temperature);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    fclose(f);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="ttc" id="logging_8c_html_af4ba1ee53cc3aef03b724fd71bc0759a"><div class="ttname"><a href="logging_8c.html#af4ba1ee53cc3aef03b724fd71bc0759a">get_formatted_timestamp</a></div><div class="ttdeci">time_t get_formatted_timestamp(char *out_time_formatted, unsigned char num_bytes)</div><div class="ttdoc">Sets formatted time string. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8c_source.html#l00088">logging.c:88</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a96dcf1f1a7190a76b02f3b306fb19fae"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a96dcf1f1a7190a76b02f3b306fb19fae">HostName</a></div><div class="ttdeci">char HostName[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00060">MemoryReliability_defs.c:60</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a95b29e5ee170f3bd54c14fd82a3ad3e3"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a95b29e5ee170f3bd54c14fd82a3ad3e3">OutFile</a></div><div class="ttdeci">char OutFile[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00079">MemoryReliability_defs.c:79</a></div></div>
<div class="ttc" id="logging_8c_html_a45ed24cbd1932b27fe4a87c2f79c93c7"><div class="ttname"><a href="logging_8c.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a></div><div class="ttdeci">void log_message(char *message)</div><div class="ttdoc">Writes message in OutFile. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8c_source.html#l00140">logging.c:140</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="logging_8c_source.html#l00140">140</a> of file <a class="el" href="logging_8c_source.html">logging.c</a>.</p>

</div>
</div>
<a id="a4f405b81728336029e34d7fd8c408cf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f405b81728336029e34d7fd8c408cf9">&#9670;&nbsp;</a></span>memory_test_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void memory_test_loop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="MemoryReliability__decl_8h.html#a6649194b85c248005f56df75ef5e6a6f">Strategy_t</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start memory test loop. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>[out] strategy type</td></tr>
  </table>
  </dd>
</dl>
<p>the strategy may be SIMPLE, ZERO or RANDOM.</p>
<div class="fragment"><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="keywordtype">void</span> <a class="code" href="memcheck_8c.html#a4f405b81728336029e34d7fd8c408cf9">memory_test_loop</a>(<a class="code" href="MemoryReliability__decl_8h.html#a6649194b85c248005f56df75ef5e6a6f">Strategy_t</a> type)</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;{</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span> (type == SIMPLE) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="memcheck_8c.html#a20578375c96b3ede086d0adb53ad2e41">simple_memory_test</a>();</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == ZERO) {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <a class="code" href="memcheck_8c.html#a5d3a17d3b8fc429d058ca9856169a409">zero_one_test</a>();</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == RANDOM) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="memcheck_8c.html#a8c8d92afdf8591f541b7322ccf1c6880">random_pattern_test</a>();</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div><div class="ttc" id="memcheck_8c_html_a4f405b81728336029e34d7fd8c408cf9"><div class="ttname"><a href="memcheck_8c.html#a4f405b81728336029e34d7fd8c408cf9">memory_test_loop</a></div><div class="ttdeci">void memory_test_loop(Strategy_t type)</div><div class="ttdoc">Start memory test loop. </div><div class="ttdef"><b>Definition:</b> <a href="memcheck_8c_source.html#l00191">memcheck.c:191</a></div></div>
<div class="ttc" id="memcheck_8c_html_a20578375c96b3ede086d0adb53ad2e41"><div class="ttname"><a href="memcheck_8c.html#a20578375c96b3ede086d0adb53ad2e41">simple_memory_test</a></div><div class="ttdeci">void simple_memory_test()</div><div class="ttdoc">Simple memory test. </div><div class="ttdef"><b>Definition:</b> <a href="memcheck_8c_source.html#l00080">memcheck.c:80</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a6649194b85c248005f56df75ef5e6a6f"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a6649194b85c248005f56df75ef5e6a6f">Strategy_t</a></div><div class="ttdeci">enum Strategy Strategy_t</div><div class="ttdoc">Numerator to select test strategy. </div></div>
<div class="ttc" id="memcheck_8c_html_a5d3a17d3b8fc429d058ca9856169a409"><div class="ttname"><a href="memcheck_8c.html#a5d3a17d3b8fc429d058ca9856169a409">zero_one_test</a></div><div class="ttdeci">void zero_one_test()</div><div class="ttdoc">Zero one memory test. </div><div class="ttdef"><b>Definition:</b> <a href="memcheck_8c_source.html#l00106">memcheck.c:106</a></div></div>
<div class="ttc" id="memcheck_8c_html_a8c8d92afdf8591f541b7322ccf1c6880"><div class="ttname"><a href="memcheck_8c.html#a8c8d92afdf8591f541b7322ccf1c6880">random_pattern_test</a></div><div class="ttdeci">void random_pattern_test()</div><div class="ttdoc">Random pattern memory test. </div><div class="ttdef"><b>Definition:</b> <a href="memcheck_8c_source.html#l00137">memcheck.c:137</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="memcheck_8c_source.html#l00191">191</a> of file <a class="el" href="memcheck_8c_source.html">memcheck.c</a>.</p>

</div>
</div>
<a id="a8aeb6ac290912ba39d00bf0e31f9186d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aeb6ac290912ba39d00bf0e31f9186d">&#9670;&nbsp;</a></span>parse_arguments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool parse_arguments </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parser for commandline arguments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>[in] argc from main </td></tr>
    <tr><td class="paramname">argv</td><td>[in] argv from main</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="MemoryReliability_8c.html#a8aeb6ac290912ba39d00bf0e31f9186d">parse_arguments</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;{</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordtype">int</span> i = 1, c;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mega = 0;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordtype">bool</span> mem_is_mult_8 = <span class="keyword">true</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordtype">bool</span> mem_is_0 = <span class="keyword">false</span>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordtype">bool</span> mem_is_set = <span class="keyword">false</span>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordtype">bool</span> parse_err = <span class="keyword">false</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordtype">bool</span> is_success = <span class="keyword">true</span>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keyword">enum</span> {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        CPU_DEV,</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        GPU_DEV,</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    };</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordtype">int</span> device;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    srand(time(NULL));</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> BinExpo = rand()%4;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a> = 0x0001&lt;&lt;BinExpo; <span class="comment">// generate sleep time between 1 and 8 seconds</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="MemoryReliability__decl_8h.html#a8e02335d6f92fe69486d739b379354fb">mem_pattern</a> = (<span class="keywordtype">unsigned</span> char)rand()%256; <span class="comment">// generate byte pattern between 0x00 and 0xff</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    memset(<a class="code" href="MemoryReliability__decl_8h.html#a96dcf1f1a7190a76b02f3b306fb19fae">HostName</a>, 0, 255);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    gethostname(<a class="code" href="MemoryReliability__decl_8h.html#a96dcf1f1a7190a76b02f3b306fb19fae">HostName</a>, 254);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keyword">struct </span>option opts[] =</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        {<span class="stringliteral">&quot;cpu&quot;</span>              , no_argument       , &amp;device           , CPU_DEV   },</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        {<span class="stringliteral">&quot;gpu&quot;</span>              , no_argument       , &amp;device           , GPU_DEV   },</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        {<span class="stringliteral">&quot;stop-daemon&quot;</span>      , no_argument       , &amp;<a class="code" href="MemoryReliability__decl_8h.html#a01f5465ccf75eac7d911a0bf73c6294d">IsDaemonStop</a>     , 1         },</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        {<span class="stringliteral">&quot;start-daemon&quot;</span>     , no_argument       , &amp;<a class="code" href="MemoryReliability__decl_8h.html#a7f202953dc19744ed27eb41b771ac5ab">IsDaemonStart</a>    , 1         },</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        {<span class="stringliteral">&quot;memsize&quot;</span>          , required_argument , 0                 , <span class="charliteral">&#39;m&#39;</span>       },</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        {<span class="stringliteral">&quot;output-file&quot;</span>      , required_argument , 0                 , <span class="charliteral">&#39;o&#39;</span>       },</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        {<span class="stringliteral">&quot;error-file&quot;</span>       , required_argument , 0                 , <span class="charliteral">&#39;e&#39;</span>       },</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        {<span class="stringliteral">&quot;sleep-time&quot;</span>       , required_argument , 0                 , <span class="charliteral">&#39;s&#39;</span>       },</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        {<span class="stringliteral">&quot;warn-rate&quot;</span>        , required_argument , 0                 , <span class="charliteral">&#39;f&#39;</span>       },</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        {<span class="stringliteral">&quot;warn-file&quot;</span>        , required_argument , 0                 , <span class="charliteral">&#39;w&#39;</span>       },</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        { 0, 0, 0, 0 }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    };</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordtype">int</span> optsIdx = 0;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    opterr = 0;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">while</span> ( (c = getopt_long (argc, argv, <span class="stringliteral">&quot;:cdm:o:e:s:f:w:&quot;</span>, opts, &amp;optsIdx)) != -1 )</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">switch</span> (c)</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <a class="code" href="MemoryReliability__decl_8h.html#a7f202953dc19744ed27eb41b771ac5ab">IsDaemonStart</a> = 1;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                <a class="code" href="MemoryReliability__decl_8h.html#a01f5465ccf75eac7d911a0bf73c6294d">IsDaemonStop</a> = 1;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>:</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                mega = (<span class="keywordtype">unsigned</span> int)atoi(optarg);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                mem_is_set = <span class="keyword">true</span>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;o&#39;</span>:</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                strcpy(<a class="code" href="MemoryReliability__decl_8h.html#a95b29e5ee170f3bd54c14fd82a3ad3e3">OutFile</a>, optarg);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>:</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                strcpy(<a class="code" href="MemoryReliability__decl_8h.html#a49290167105e1e81670e32ae9d8d18b6">ErrFile</a>, optarg);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                <a class="code" href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a> = (<span class="keywordtype">unsigned</span> int)atoi(optarg);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>:</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                <a class="code" href="MemoryReliability__decl_8h.html#a082dbb766746bc61e1e2e88fdbd413fc">WarnRate</a> = (<span class="keywordtype">unsigned</span> int)atoi(optarg);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;w&#39;</span>:</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                strcpy(<a class="code" href="MemoryReliability__decl_8h.html#aea6acf2334f72fd7236bfd74e375e940">WarnFile</a>, optarg);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;:&#39;</span>:</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                printf(<span class="stringliteral">&quot;[Error] missing argument for %s!\n&quot;</span>, opts[optsIdx].name);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                parse_err = <span class="keyword">true</span>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;?&#39;</span>:</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                printf(<span class="stringliteral">&quot;[Error] Invalid option!\n&quot;</span>);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                parse_err = <span class="keyword">true</span>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">switch</span>(device) {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">case</span> CPU_DEV:</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> long)mega * (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>)<a class="code" href="MemoryReliability__decl_8h.html#a2b1c4ac30a66001159b11cf410b2c1b4">MEGA</a>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a>%8 != 0) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                printf(<span class="stringliteral">&quot;The number of Bytes has to be a multiple of 8\n&quot;</span>);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                mem_is_mult_8 = <span class="keyword">false</span>;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">case</span> GPU_DEV:</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> long)mega * (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>)<a class="code" href="MemoryReliability__decl_8h.html#a2b1c4ac30a66001159b11cf410b2c1b4">MEGA</a>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a>%8 != 0) {</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                printf(<span class="stringliteral">&quot;The number of Bytes has to be a multiple of 8\n&quot;</span>);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                mem_is_mult_8 = <span class="keyword">false</span>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> long)mega * (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>)<a class="code" href="MemoryReliability__decl_8h.html#a2b1c4ac30a66001159b11cf410b2c1b4">MEGA</a>;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a>%8 != 0) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                printf(<span class="stringliteral">&quot;The number of Bytes has to be a multiple of 8\n&quot;</span>);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                mem_is_mult_8 = <span class="keyword">false</span>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            }</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    mem_is_0 = (mega == 0) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">if</span> ( ( !mem_is_set &amp;&amp; !<a class="code" href="MemoryReliability__decl_8h.html#a01f5465ccf75eac7d911a0bf73c6294d">IsDaemonStop</a> ) || (  mem_is_0 &amp;&amp; !<a class="code" href="MemoryReliability__decl_8h.html#a01f5465ccf75eac7d911a0bf73c6294d">IsDaemonStop</a> ) ) {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        printf(<span class="stringliteral">&quot;[Error] Memory region size not set!\n&quot;</span>);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    }</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span> ( (<a class="code" href="MemoryReliability__decl_8h.html#a082dbb766746bc61e1e2e88fdbd413fc">WarnRate</a> &gt; 0 &amp;&amp; strlen(<a class="code" href="MemoryReliability__decl_8h.html#aea6acf2334f72fd7236bfd74e375e940">WarnFile</a>) == 0) )</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        parse_err = <span class="keyword">true</span>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        printf(<span class="stringliteral">&quot;[Error] Parameters waring rate and warning file inconsistent!\n&quot;</span>);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    is_success = (mem_is_set &amp;&amp; mem_is_mult_8 &amp;&amp; !mem_is_0 &amp;&amp; !parse_err) || <a class="code" href="MemoryReliability__decl_8h.html#a01f5465ccf75eac7d911a0bf73c6294d">IsDaemonStop</a>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span> ( !is_success ) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <a class="code" href="MemoryReliability_8c.html#a767128a69bdfad046920286832102a40">print_usage</a>(argv[0]);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MemoryReliability__decl_8h.html#a01f5465ccf75eac7d911a0bf73c6294d">IsDaemonStop</a> &amp;&amp; is_success) </div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        printf(<span class="stringliteral">&quot;Host name: %s\n&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#a96dcf1f1a7190a76b02f3b306fb19fae">HostName</a>);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a>)</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            printf(<span class="stringliteral">&quot;CPU Memory size: %llu bytes = %llu MB\n&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a>, <a class="code" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a>/<a class="code" href="MemoryReliability__decl_8h.html#a2b1c4ac30a66001159b11cf410b2c1b4">MEGA</a>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            printf(<span class="stringliteral">&quot;CPU Memory pattern (hex): 0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;\n&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#a8e02335d6f92fe69486d739b379354fb">mem_pattern</a>);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a>)</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            printf(<span class="stringliteral">&quot;GPU Memory size: %llu bytes = %llu MB\n&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a>, <a class="code" href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a>/<a class="code" href="MemoryReliability__decl_8h.html#a2b1c4ac30a66001159b11cf410b2c1b4">MEGA</a>);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            printf(<span class="stringliteral">&quot;GPU Memory pattern (hex): 0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;\n&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#a8e02335d6f92fe69486d739b379354fb">mem_pattern</a>);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        }</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        printf(<span class="stringliteral">&quot;Log file: %s\n&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#a95b29e5ee170f3bd54c14fd82a3ad3e3">OutFile</a>);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        printf(<span class="stringliteral">&quot;Error log file: %s\n&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#a49290167105e1e81670e32ae9d8d18b6">ErrFile</a>);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        printf(<span class="stringliteral">&quot;Sleep time: %u\n&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a>);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        printf(<span class="stringliteral">&quot;Warning rate: %u\n&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#a082dbb766746bc61e1e2e88fdbd413fc">WarnRate</a>);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        printf(<span class="stringliteral">&quot;Warning file: %s\n&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#aea6acf2334f72fd7236bfd74e375e940">WarnFile</a>);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">return</span> is_success;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;}</div><div class="ttc" id="MemoryReliability__decl_8h_html_aea6acf2334f72fd7236bfd74e375e940"><div class="ttname"><a href="MemoryReliability__decl_8h.html#aea6acf2334f72fd7236bfd74e375e940">WarnFile</a></div><div class="ttdeci">char WarnFile[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00080">MemoryReliability_defs.c:80</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a082dbb766746bc61e1e2e88fdbd413fc"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a082dbb766746bc61e1e2e88fdbd413fc">WarnRate</a></div><div class="ttdeci">unsigned int WarnRate</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00084">MemoryReliability_defs.c:84</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a2b1c4ac30a66001159b11cf410b2c1b4"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a2b1c4ac30a66001159b11cf410b2c1b4">MEGA</a></div><div class="ttdeci">const unsigned int MEGA</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00056">MemoryReliability_defs.c:56</a></div></div>
<div class="ttc" id="MemoryReliability_8c_html_a8aeb6ac290912ba39d00bf0e31f9186d"><div class="ttname"><a href="MemoryReliability_8c.html#a8aeb6ac290912ba39d00bf0e31f9186d">parse_arguments</a></div><div class="ttdeci">bool parse_arguments(int argc, char *argv[])</div><div class="ttdoc">[start_client] </div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability_8c_source.html#l00289">MemoryReliability.c:289</a></div></div>
<div class="ttc" id="MemoryReliability_8c_html_a767128a69bdfad046920286832102a40"><div class="ttname"><a href="MemoryReliability_8c.html#a767128a69bdfad046920286832102a40">print_usage</a></div><div class="ttdeci">void print_usage(char *program_name)</div><div class="ttdoc">[parse_arguments] </div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability_8c_source.html#l00448">MemoryReliability.c:448</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a96dcf1f1a7190a76b02f3b306fb19fae"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a96dcf1f1a7190a76b02f3b306fb19fae">HostName</a></div><div class="ttdeci">char HostName[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00060">MemoryReliability_defs.c:60</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a95b29e5ee170f3bd54c14fd82a3ad3e3"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a95b29e5ee170f3bd54c14fd82a3ad3e3">OutFile</a></div><div class="ttdeci">char OutFile[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00079">MemoryReliability_defs.c:79</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a654d8cc4a11fe9438332b69bcfc01f40"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a></div><div class="ttdeci">bool CheckGPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00069">MemoryReliability_defs.c:69</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a85cd4ed1c5f59d4291263db042cd3aa2"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a></div><div class="ttdeci">bool CheckCPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00068">MemoryReliability_defs.c:68</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a01f5465ccf75eac7d911a0bf73c6294d"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a01f5465ccf75eac7d911a0bf73c6294d">IsDaemonStop</a></div><div class="ttdeci">int IsDaemonStop</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00092">MemoryReliability_defs.c:92</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_af1b27da322e2539f7dcdf778d644ab50"><div class="ttname"><a href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a></div><div class="ttdeci">unsigned long long NumBytesGPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00063">MemoryReliability_defs.c:63</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a49290167105e1e81670e32ae9d8d18b6"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a49290167105e1e81670e32ae9d8d18b6">ErrFile</a></div><div class="ttdeci">char ErrFile[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00081">MemoryReliability_defs.c:81</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a51173b54cc52b6d7328f9fe87aba9bbb"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a></div><div class="ttdeci">unsigned int SleepTime</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00089">MemoryReliability_defs.c:89</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a8e02335d6f92fe69486d739b379354fb"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a8e02335d6f92fe69486d739b379354fb">mem_pattern</a></div><div class="ttdeci">unsigned char mem_pattern</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00067">MemoryReliability_defs.c:67</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a7f202953dc19744ed27eb41b771ac5ab"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a7f202953dc19744ed27eb41b771ac5ab">IsDaemonStart</a></div><div class="ttdeci">int IsDaemonStart</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00091">MemoryReliability_defs.c:91</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a0ddf920351d282036874261dbb91ff95"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a></div><div class="ttdeci">unsigned long long NumBytesCPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00062">MemoryReliability_defs.c:62</a></div></div>
</div><!-- fragment --><p> Parser for commandline arguments.</p>
<p>[parse_arguments] </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability_8c_source.html#l00289">289</a> of file <a class="el" href="MemoryReliability_8c_source.html">MemoryReliability.c</a>.</p>

</div>
</div>
<a id="a767128a69bdfad046920286832102a40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a767128a69bdfad046920286832102a40">&#9670;&nbsp;</a></span>print_usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_usage </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>program_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints application help string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argv</td><td>[in] argv[0] from main</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="keywordtype">void</span> <a class="code" href="MemoryReliability_8c.html#a767128a69bdfad046920286832102a40">print_usage</a>(<span class="keywordtype">char</span>* program_name)</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;{</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    printf(</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <span class="stringliteral">&quot;+------------------------------------------------------------------------------------------+\n&quot;</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <span class="stringliteral">&quot;| Memory scanner by Ferad Zyulkyarov                                                       |\n&quot;</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <span class="stringliteral">&quot;| This program starts a daemon for memory test or stops an already running daemon          |\n&quot;</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="stringliteral">&quot;+------------------------------------------------------------------------------------------+\n&quot;</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <span class="stringliteral">&quot;usage: %s -m &lt;arg&gt; [-d] [-c] [--cpu] [--gpu] [-o &lt;arg&gt;] [-s &lt;arg&gt;] [-w &lt;arg&gt;] [-f &lt;arg&gt;]\n&quot;</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            <span class="stringliteral">&quot;    -d|--start-daemon: start as daemon. If not passed will start as a foreground process.\n&quot;</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            <span class="stringliteral">&quot;    -c|--stop-daemon: stop the daemon.\n&quot;</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <span class="stringliteral">&quot;    --cpu: check CPU memory (default).\n&quot;</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <span class="stringliteral">&quot;    --gpu: check GPU memory.\n&quot;</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="stringliteral">&quot;    -m|--memsize: the size of the CPU or GPU memory to test in MB (depends on --gpu, --cpu flags).\n&quot;</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            <span class="stringliteral">&quot;    -o|--output-file: log file name [default=%s].\n&quot;</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <span class="stringliteral">&quot;    -e|--error-file: error file name [default=%s].\n&quot;</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="stringliteral">&quot;    -s|--sleep-time: sleep time in seconds [default=%u].\n&quot;</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            <span class="stringliteral">&quot;    -w|--warn-file: warning file [default=%s].\n&quot;</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="stringliteral">&quot;    -f|--warn-rate: warning rate [default=%u].\n&quot;</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            <span class="stringliteral">&quot;Example to start a daemon:\n&quot;</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="stringliteral">&quot;    %s -d --cpu -m 1024 -s 10 -o full_path_to_logfile.log -- run as a daemon, test 1024MB of CPU memory, and sleep for 10sec, write logs to logfile.log.\n&quot;</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            <span class="stringliteral">&quot;    %s -d --cpu -m 1024 -s 10 -o full_path_to_logfile.log -f 15 -w full_path_to_warningfile.txt -- &quot;</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="stringliteral">&quot;run as a daemon, test 1024MB of CPU memory, and sleep for 10sec, write logs to logfile.log, &quot;</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="stringliteral">&quot;if there are more than (-wn) 10 errors detected write the name of the host to file warning.txt\n&quot;</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="stringliteral">&quot;    %s -d --cpu -m 1024 --gpu -m 2048 -s 5 -o full_path_to_logfile.log -f 15 -w full_path_to_warningfile.txt -- &quot;</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="stringliteral">&quot;run as a daemon, test 1024MB of CPU memory, test 2048MB of GPU memory, and sleep for 5sec, write logs to logfile.log,&quot;</span> </div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            <span class="stringliteral">&quot;if there are more than (-wn) 10 errors detected write the name of the host to file warning.txt\n&quot;</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <span class="stringliteral">&quot;Example to stop a daemon: \n&quot;</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <span class="stringliteral">&quot;    %s -c\n&quot;</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <span class="stringliteral">&quot;Example to run as a foreground process:\n&quot;</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <span class="stringliteral">&quot;    %s --cpu -m 1024 -s 10 -- run as a daemon, test 1024MB of memory, and sleep for 10sec.\n&quot;</span>,</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        program_name,<a class="code" href="MemoryReliability__decl_8h.html#a95b29e5ee170f3bd54c14fd82a3ad3e3">OutFile</a>, <a class="code" href="MemoryReliability__decl_8h.html#a49290167105e1e81670e32ae9d8d18b6">ErrFile</a>, <a class="code" href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a>, <a class="code" href="MemoryReliability__decl_8h.html#aea6acf2334f72fd7236bfd74e375e940">WarnFile</a>, <a class="code" href="MemoryReliability__decl_8h.html#a082dbb766746bc61e1e2e88fdbd413fc">WarnRate</a>, program_name, program_name, program_name, program_name, program_name);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div><div class="ttc" id="MemoryReliability__decl_8h_html_aea6acf2334f72fd7236bfd74e375e940"><div class="ttname"><a href="MemoryReliability__decl_8h.html#aea6acf2334f72fd7236bfd74e375e940">WarnFile</a></div><div class="ttdeci">char WarnFile[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00080">MemoryReliability_defs.c:80</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a082dbb766746bc61e1e2e88fdbd413fc"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a082dbb766746bc61e1e2e88fdbd413fc">WarnRate</a></div><div class="ttdeci">unsigned int WarnRate</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00084">MemoryReliability_defs.c:84</a></div></div>
<div class="ttc" id="MemoryReliability_8c_html_a767128a69bdfad046920286832102a40"><div class="ttname"><a href="MemoryReliability_8c.html#a767128a69bdfad046920286832102a40">print_usage</a></div><div class="ttdeci">void print_usage(char *program_name)</div><div class="ttdoc">[parse_arguments] </div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability_8c_source.html#l00448">MemoryReliability.c:448</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a95b29e5ee170f3bd54c14fd82a3ad3e3"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a95b29e5ee170f3bd54c14fd82a3ad3e3">OutFile</a></div><div class="ttdeci">char OutFile[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00079">MemoryReliability_defs.c:79</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a49290167105e1e81670e32ae9d8d18b6"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a49290167105e1e81670e32ae9d8d18b6">ErrFile</a></div><div class="ttdeci">char ErrFile[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00081">MemoryReliability_defs.c:81</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a51173b54cc52b6d7328f9fe87aba9bbb"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a></div><div class="ttdeci">unsigned int SleepTime</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00089">MemoryReliability_defs.c:89</a></div></div>
</div><!-- fragment --><p> Prints application help string.</p>
<p>[print_usage] </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability_8c_source.html#l00448">448</a> of file <a class="el" href="MemoryReliability_8c_source.html">MemoryReliability.c</a>.</p>

</div>
</div>
<a id="a8c8d92afdf8591f541b7322ccf1c6880"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c8d92afdf8591f541b7322ccf1c6880">&#9670;&nbsp;</a></span>random_pattern_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void random_pattern_test </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Random pattern memory test. </p>
<p>the memory is initialized with an 8 bit pattern. The pattern is randomly generated at start of the client. each iteration, the bits in the memory region are flipped.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="keywordtype">void</span> <a class="code" href="memcheck_8c.html#a8c8d92afdf8591f541b7322ccf1c6880">random_pattern_test</a>()</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> expected_value;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    memset(&amp;expected_value, <a class="code" href="MemoryReliability__decl_8h.html#a8e02335d6f92fe69486d739b379354fb">mem_pattern</a>, <span class="keyword">sizeof</span>(uint64_t));</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a>)</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        memset(<a class="code" href="MemoryReliability__decl_8h.html#aa9278fdef519def4258cf6375a03834e">cpu_mem</a>, <a class="code" href="MemoryReliability__decl_8h.html#a8e02335d6f92fe69486d739b379354fb">mem_pattern</a>, <a class="code" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">#if defined(INJECT_ERR) &amp;&amp; defined(USE_CUDA)</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a>)</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        cudaError_t err = cudaMemset(<a class="code" href="MemoryReliability__decl_8h.html#a0a5f7d646cc094cefd9b0540e4c25eda">gpu_mem</a>, <a class="code" href="MemoryReliability__decl_8h.html#a8e02335d6f92fe69486d739b379354fb">mem_pattern</a>, <a class="code" href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">if</span> (err != cudaSuccess)</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordtype">char</span> msg[255];</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            sprintf(msg, <span class="stringliteral">&quot;ERROR,Cannot memset ptr_data to 0x1 (%s:%s).&quot;</span>,</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                         cudaGetErrorName(err), cudaGetErrorString(err));</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(msg);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// The main loop</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="MemoryReliability__decl_8h.html#af19b5b70151bdf6802ebd45e193cbc63">ExitNow</a> == 0)</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="comment">// </span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="comment">// Simulate error at random position and random iteration.</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a>)</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#aff93fd1322012d1b450c07fe2230eef4">inject_cpu_error</a>(<a class="code" href="MemoryReliability__decl_8h.html#aa9278fdef519def4258cf6375a03834e">cpu_mem</a>, expected_value, RANDOM);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a>)</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#a6a49a6091705e944e3a6b05d0be3c3ce">inject_gpu_error</a>(<a class="code" href="MemoryReliability__decl_8h.html#a0a5f7d646cc094cefd9b0540e4c25eda">gpu_mem</a>, expected_value, RANDOM);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a>)</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <a class="code" href="memcheck_8c.html#a58440a1b2a0fcc331798ecc2db7b1efe">check_cpu_mem</a>(<a class="code" href="MemoryReliability__decl_8h.html#aa9278fdef519def4258cf6375a03834e">cpu_mem</a>, <a class="code" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a>, expected_value, ~expected_value);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a>)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <a class="code" href="memcheck_8c.html#a16cc33d651366d4a961f9f6cfcdba65a">check_gpu_mem</a>(<a class="code" href="MemoryReliability__decl_8h.html#a0a5f7d646cc094cefd9b0540e4c25eda">gpu_mem</a>, <a class="code" href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a>, expected_value, ~expected_value);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        expected_value = ~expected_value;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a> &gt; 0 &amp;&amp; <a class="code" href="MemoryReliability__decl_8h.html#af19b5b70151bdf6802ebd45e193cbc63">ExitNow</a> == 0)</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            sleep(<a class="code" href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a>);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div><div class="ttc" id="MemoryReliability__decl_8h_html_a94baa001ce1e427d41bdddb61169df68"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a></div><div class="ttdeci">uintptr_t ADDRVALUE</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__decl_8h_source.html#l00126">MemoryReliability_decl.h:126</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_aa9278fdef519def4258cf6375a03834e"><div class="ttname"><a href="MemoryReliability__decl_8h.html#aa9278fdef519def4258cf6375a03834e">cpu_mem</a></div><div class="ttdeci">void * cpu_mem</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00064">MemoryReliability_defs.c:64</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a0a5f7d646cc094cefd9b0540e4c25eda"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a0a5f7d646cc094cefd9b0540e4c25eda">gpu_mem</a></div><div class="ttdeci">void * gpu_mem</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00065">MemoryReliability_defs.c:65</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a6a49a6091705e944e3a6b05d0be3c3ce"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a6a49a6091705e944e3a6b05d0be3c3ce">inject_gpu_error</a></div><div class="ttdeci">void inject_gpu_error(unsigned char *start, ADDRVALUE expected_value, Strategy_t s)</div><div class="ttdoc">Injects error in GPU memory. </div><div class="ttdef"><b>Definition:</b> <a href="injection_8c_source.html#l00087">injection.c:87</a></div></div>
<div class="ttc" id="memcheck_8c_html_a16cc33d651366d4a961f9f6cfcdba65a"><div class="ttname"><a href="memcheck_8c.html#a16cc33d651366d4a961f9f6cfcdba65a">check_gpu_mem</a></div><div class="ttdeci">bool check_gpu_mem(ADDRVALUE *buffer, unsigned long long num_bytes, ADDRVALUE expected_value, ADDRVALUE new_value)</div><div class="ttdoc">Scans memory for SDC (GPU) </div><div class="ttdef"><b>Definition:</b> <a href="memcheck_8c_source.html#l00067">memcheck.c:67</a></div></div>
<div class="ttc" id="memcheck_8c_html_a58440a1b2a0fcc331798ecc2db7b1efe"><div class="ttname"><a href="memcheck_8c.html#a58440a1b2a0fcc331798ecc2db7b1efe">check_cpu_mem</a></div><div class="ttdeci">bool check_cpu_mem(ADDRVALUE *buffer, unsigned long long num_bytes, ADDRVALUE expected_value, ADDRVALUE new_value)</div><div class="ttdoc">Scans memory for SDC (CPU) </div><div class="ttdef"><b>Definition:</b> <a href="memcheck_8c_source.html#l00046">memcheck.c:46</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a654d8cc4a11fe9438332b69bcfc01f40"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a></div><div class="ttdeci">bool CheckGPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00069">MemoryReliability_defs.c:69</a></div></div>
<div class="ttc" id="memcheck_8c_html_a8c8d92afdf8591f541b7322ccf1c6880"><div class="ttname"><a href="memcheck_8c.html#a8c8d92afdf8591f541b7322ccf1c6880">random_pattern_test</a></div><div class="ttdeci">void random_pattern_test()</div><div class="ttdoc">Random pattern memory test. </div><div class="ttdef"><b>Definition:</b> <a href="memcheck_8c_source.html#l00137">memcheck.c:137</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a85cd4ed1c5f59d4291263db042cd3aa2"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a></div><div class="ttdeci">bool CheckCPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00068">MemoryReliability_defs.c:68</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a45ed24cbd1932b27fe4a87c2f79c93c7"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a></div><div class="ttdeci">void log_message(char *message)</div><div class="ttdoc">Writes message in OutFile. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8c_source.html#l00140">logging.c:140</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_af1b27da322e2539f7dcdf778d644ab50"><div class="ttname"><a href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a></div><div class="ttdeci">unsigned long long NumBytesGPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00063">MemoryReliability_defs.c:63</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a51173b54cc52b6d7328f9fe87aba9bbb"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a></div><div class="ttdeci">unsigned int SleepTime</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00089">MemoryReliability_defs.c:89</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a8e02335d6f92fe69486d739b379354fb"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a8e02335d6f92fe69486d739b379354fb">mem_pattern</a></div><div class="ttdeci">unsigned char mem_pattern</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00067">MemoryReliability_defs.c:67</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_af19b5b70151bdf6802ebd45e193cbc63"><div class="ttname"><a href="MemoryReliability__decl_8h.html#af19b5b70151bdf6802ebd45e193cbc63">ExitNow</a></div><div class="ttdeci">bool ExitNow</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00090">MemoryReliability_defs.c:90</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_aff93fd1322012d1b450c07fe2230eef4"><div class="ttname"><a href="MemoryReliability__decl_8h.html#aff93fd1322012d1b450c07fe2230eef4">inject_cpu_error</a></div><div class="ttdeci">void inject_cpu_error(unsigned char *start, ADDRVALUE expected_value, Strategy_t s)</div><div class="ttdoc">Injects error in CPU memory. </div><div class="ttdef"><b>Definition:</b> <a href="injection_8c_source.html#l00046">injection.c:46</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a0ddf920351d282036874261dbb91ff95"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a></div><div class="ttdeci">unsigned long long NumBytesCPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00062">MemoryReliability_defs.c:62</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="memcheck_8c_source.html#l00137">137</a> of file <a class="el" href="memcheck_8c_source.html">memcheck.c</a>.</p>

</div>
</div>
<a id="a8b4395ac986cc7ae86b35f1ef4f331f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b4395ac986cc7ae86b35f1ef4f331f0">&#9670;&nbsp;</a></span>sigint_signal_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sigint_signal_handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log signal type and exit. </p>
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keywordtype">void</span> <a class="code" href="daemon_8c.html#a8b4395ac986cc7ae86b35f1ef4f331f0">sigint_signal_handler</a>(<span class="keywordtype">int</span> signum)</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="MemoryReliability__decl_8h.html#af19b5b70151bdf6802ebd45e193cbc63">ExitNow</a> = 1;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(<span class="stringliteral">&quot;STOP,SIGINT&quot;</span>);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div><div class="ttc" id="daemon_8c_html_a8b4395ac986cc7ae86b35f1ef4f331f0"><div class="ttname"><a href="daemon_8c.html#a8b4395ac986cc7ae86b35f1ef4f331f0">sigint_signal_handler</a></div><div class="ttdeci">void sigint_signal_handler(int signum)</div><div class="ttdoc">Log signal type and exit. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00054">daemon.c:54</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a45ed24cbd1932b27fe4a87c2f79c93c7"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a></div><div class="ttdeci">void log_message(char *message)</div><div class="ttdoc">Writes message in OutFile. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8c_source.html#l00140">logging.c:140</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_af19b5b70151bdf6802ebd45e193cbc63"><div class="ttname"><a href="MemoryReliability__decl_8h.html#af19b5b70151bdf6802ebd45e193cbc63">ExitNow</a></div><div class="ttdeci">bool ExitNow</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00090">MemoryReliability_defs.c:90</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="daemon_8c_source.html#l00054">54</a> of file <a class="el" href="daemon_8c_source.html">daemon.c</a>.</p>

</div>
</div>
<a id="a46f21472b4222116208fc0fcf88f84dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46f21472b4222116208fc0fcf88f84dd">&#9670;&nbsp;</a></span>sigterm_signal_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sigterm_signal_handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log signal type and exit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signum</td><td>signal type</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keywordtype">void</span> <a class="code" href="daemon_8c.html#a46f21472b4222116208fc0fcf88f84dd">sigterm_signal_handler</a>(<span class="keywordtype">int</span> signum)</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="MemoryReliability__decl_8h.html#af19b5b70151bdf6802ebd45e193cbc63">ExitNow</a> = 1;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(<span class="stringliteral">&quot;STOP,SIGTERM&quot;</span>);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;}</div><div class="ttc" id="daemon_8c_html_a46f21472b4222116208fc0fcf88f84dd"><div class="ttname"><a href="daemon_8c.html#a46f21472b4222116208fc0fcf88f84dd">sigterm_signal_handler</a></div><div class="ttdeci">void sigterm_signal_handler(int signum)</div><div class="ttdoc">Log signal type and exit. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00046">daemon.c:46</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a45ed24cbd1932b27fe4a87c2f79c93c7"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a></div><div class="ttdeci">void log_message(char *message)</div><div class="ttdoc">Writes message in OutFile. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8c_source.html#l00140">logging.c:140</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_af19b5b70151bdf6802ebd45e193cbc63"><div class="ttname"><a href="MemoryReliability__decl_8h.html#af19b5b70151bdf6802ebd45e193cbc63">ExitNow</a></div><div class="ttdeci">bool ExitNow</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00090">MemoryReliability_defs.c:90</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="daemon_8c_source.html#l00046">46</a> of file <a class="el" href="daemon_8c_source.html">daemon.c</a>.</p>

</div>
</div>
<a id="a20578375c96b3ede086d0adb53ad2e41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20578375c96b3ede086d0adb53ad2e41">&#9670;&nbsp;</a></span>simple_memory_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simple_memory_test </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple memory test. </p>
<p>the memory region is initialized to 0 at start. the region is devided into 32/64 bit words, depending on the architecture. On start, the memory is initialized to 0. After the first iteration each block in memory is set to 1, after the i'th iteration each block is set to i.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keywordtype">void</span> <a class="code" href="memcheck_8c.html#a20578375c96b3ede086d0adb53ad2e41">simple_memory_test</a>()</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> expected_value = 0;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// The main loop</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">while</span>(<a class="code" href="MemoryReliability__decl_8h.html#af19b5b70151bdf6802ebd45e193cbc63">ExitNow</a> == 0)</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <a class="code" href="memcheck_8c.html#a58440a1b2a0fcc331798ecc2db7b1efe">check_cpu_mem</a>(<a class="code" href="MemoryReliability__decl_8h.html#aa9278fdef519def4258cf6375a03834e">cpu_mem</a>, <a class="code" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a>, expected_value, expected_value+1);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <a class="code" href="memcheck_8c.html#a16cc33d651366d4a961f9f6cfcdba65a">check_gpu_mem</a>(<a class="code" href="MemoryReliability__decl_8h.html#a0a5f7d646cc094cefd9b0540e4c25eda">gpu_mem</a>, <a class="code" href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a>, expected_value, expected_value+1);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        expected_value++;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a> &gt; 0 &amp;&amp; <a class="code" href="MemoryReliability__decl_8h.html#af19b5b70151bdf6802ebd45e193cbc63">ExitNow</a> == 0)</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            sleep(<a class="code" href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div><div class="ttc" id="MemoryReliability__decl_8h_html_a94baa001ce1e427d41bdddb61169df68"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a></div><div class="ttdeci">uintptr_t ADDRVALUE</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__decl_8h_source.html#l00126">MemoryReliability_decl.h:126</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_aa9278fdef519def4258cf6375a03834e"><div class="ttname"><a href="MemoryReliability__decl_8h.html#aa9278fdef519def4258cf6375a03834e">cpu_mem</a></div><div class="ttdeci">void * cpu_mem</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00064">MemoryReliability_defs.c:64</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a0a5f7d646cc094cefd9b0540e4c25eda"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a0a5f7d646cc094cefd9b0540e4c25eda">gpu_mem</a></div><div class="ttdeci">void * gpu_mem</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00065">MemoryReliability_defs.c:65</a></div></div>
<div class="ttc" id="memcheck_8c_html_a20578375c96b3ede086d0adb53ad2e41"><div class="ttname"><a href="memcheck_8c.html#a20578375c96b3ede086d0adb53ad2e41">simple_memory_test</a></div><div class="ttdeci">void simple_memory_test()</div><div class="ttdoc">Simple memory test. </div><div class="ttdef"><b>Definition:</b> <a href="memcheck_8c_source.html#l00080">memcheck.c:80</a></div></div>
<div class="ttc" id="memcheck_8c_html_a16cc33d651366d4a961f9f6cfcdba65a"><div class="ttname"><a href="memcheck_8c.html#a16cc33d651366d4a961f9f6cfcdba65a">check_gpu_mem</a></div><div class="ttdeci">bool check_gpu_mem(ADDRVALUE *buffer, unsigned long long num_bytes, ADDRVALUE expected_value, ADDRVALUE new_value)</div><div class="ttdoc">Scans memory for SDC (GPU) </div><div class="ttdef"><b>Definition:</b> <a href="memcheck_8c_source.html#l00067">memcheck.c:67</a></div></div>
<div class="ttc" id="memcheck_8c_html_a58440a1b2a0fcc331798ecc2db7b1efe"><div class="ttname"><a href="memcheck_8c.html#a58440a1b2a0fcc331798ecc2db7b1efe">check_cpu_mem</a></div><div class="ttdeci">bool check_cpu_mem(ADDRVALUE *buffer, unsigned long long num_bytes, ADDRVALUE expected_value, ADDRVALUE new_value)</div><div class="ttdoc">Scans memory for SDC (CPU) </div><div class="ttdef"><b>Definition:</b> <a href="memcheck_8c_source.html#l00046">memcheck.c:46</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_af1b27da322e2539f7dcdf778d644ab50"><div class="ttname"><a href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a></div><div class="ttdeci">unsigned long long NumBytesGPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00063">MemoryReliability_defs.c:63</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a51173b54cc52b6d7328f9fe87aba9bbb"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a></div><div class="ttdeci">unsigned int SleepTime</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00089">MemoryReliability_defs.c:89</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_af19b5b70151bdf6802ebd45e193cbc63"><div class="ttname"><a href="MemoryReliability__decl_8h.html#af19b5b70151bdf6802ebd45e193cbc63">ExitNow</a></div><div class="ttdeci">bool ExitNow</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00090">MemoryReliability_defs.c:90</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a0ddf920351d282036874261dbb91ff95"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a></div><div class="ttdeci">unsigned long long NumBytesCPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00062">MemoryReliability_defs.c:62</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="memcheck_8c_source.html#l00080">80</a> of file <a class="el" href="memcheck_8c_source.html">memcheck.c</a>.</p>

</div>
</div>
<a id="a169c97e4c12b7a6fd7f8529799b09c5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a169c97e4c12b7a6fd7f8529799b09c5c">&#9670;&nbsp;</a></span>start_client()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void start_client </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start daemon thread and exit. </p>
<p>installs the signal handler (SIGTERM and SIGINT) and starts the test loop.</p>
<div class="fragment"><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="keywordtype">void</span> <a class="code" href="MemoryReliability_8c.html#a169c97e4c12b7a6fd7f8529799b09c5c">start_client</a>()</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;{</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordtype">char</span> start_msg[255];</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">// Install signal handler that responds to kill [pid] from the command line.</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    signal(SIGTERM, <a class="code" href="MemoryReliability__decl_8h.html#a46f21472b4222116208fc0fcf88f84dd">sigterm_signal_handler</a>);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="comment">// Install signal handler that responds to Ctrl+C interrupt</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    signal(SIGINT, <a class="code" href="MemoryReliability__decl_8h.html#a8b4395ac986cc7ae86b35f1ef4f331f0">sigint_signal_handler</a>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    printf(<span class="stringliteral">&quot;Client started...\n&quot;</span>);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    sprintf(start_msg, <span class="stringliteral">&quot;START, SLEEP TIME (SECONDS): %u&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a>);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(start_msg);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a>)</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        sprintf(start_msg, <span class="stringliteral">&quot;INFO, ALLOCATED CPU MEMORY (BYTES): %llu, PATTERN (HEX): 0x%&quot;</span> PRIxPTR, <a class="code" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a>, <a class="code" href="MemoryReliability__decl_8h.html#a8e02335d6f92fe69486d739b379354fb">mem_pattern</a>);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(start_msg);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a>)</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        sprintf(start_msg, <span class="stringliteral">&quot;INFO, ALLOCATED GPU MEMORY (BYTES): %llu, PATTERN (HEX): 0x%&quot;</span> PRIxPTR , <a class="code" href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a>, <a class="code" href="MemoryReliability__decl_8h.html#a8e02335d6f92fe69486d739b379354fb">mem_pattern</a>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(start_msg);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a>)</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#ae72219dbf64a151040f10fb3aa4c8c0d">initialize_cpu_memory</a>();</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a>)</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#a07abc58767852eeb43565ccbf653d675">initialize_gpu_memory</a>();</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">// The daemon loop.</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="MemoryReliability__decl_8h.html#a4f405b81728336029e34d7fd8c408cf9">memory_test_loop</a>(RANDOM);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a>)</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#a9752f2d320edf40035b4dc8b04792098">free_cpu_memory</a>();</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a>)</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#a92a5eb737fdb19db87792409e0e311e8">free_gpu_memory</a>();</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div><div class="ttc" id="MemoryReliability__decl_8h_html_a9752f2d320edf40035b4dc8b04792098"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a9752f2d320edf40035b4dc8b04792098">free_cpu_memory</a></div><div class="ttdeci">void free_cpu_memory()</div><div class="ttdoc">De-allocates CPU memory. </div><div class="ttdef"><b>Definition:</b> <a href="tools_8c_source.html#l00120">tools.c:120</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_ae72219dbf64a151040f10fb3aa4c8c0d"><div class="ttname"><a href="MemoryReliability__decl_8h.html#ae72219dbf64a151040f10fb3aa4c8c0d">initialize_cpu_memory</a></div><div class="ttdeci">void initialize_cpu_memory()</div><div class="ttdoc">Allocates CPU memory region and set to 0. </div><div class="ttdef"><b>Definition:</b> <a href="tools_8c_source.html#l00060">tools.c:60</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a07abc58767852eeb43565ccbf653d675"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a07abc58767852eeb43565ccbf653d675">initialize_gpu_memory</a></div><div class="ttdeci">void initialize_gpu_memory()</div><div class="ttdoc">Allocates GPU memory region and set to 0. </div><div class="ttdef"><b>Definition:</b> <a href="tools_8c_source.html#l00083">tools.c:83</a></div></div>
<div class="ttc" id="MemoryReliability_8c_html_a169c97e4c12b7a6fd7f8529799b09c5c"><div class="ttname"><a href="MemoryReliability_8c.html#a169c97e4c12b7a6fd7f8529799b09c5c">start_client</a></div><div class="ttdeci">void start_client()</div><div class="ttdoc">[stop_daemon] </div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability_8c_source.html#l00236">MemoryReliability.c:236</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a8b4395ac986cc7ae86b35f1ef4f331f0"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a8b4395ac986cc7ae86b35f1ef4f331f0">sigint_signal_handler</a></div><div class="ttdeci">void sigint_signal_handler(int signum)</div><div class="ttdoc">Log signal type and exit. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00054">daemon.c:54</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a654d8cc4a11fe9438332b69bcfc01f40"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a></div><div class="ttdeci">bool CheckGPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00069">MemoryReliability_defs.c:69</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a4f405b81728336029e34d7fd8c408cf9"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a4f405b81728336029e34d7fd8c408cf9">memory_test_loop</a></div><div class="ttdeci">void memory_test_loop(Strategy_t type)</div><div class="ttdoc">Start memory test loop. </div><div class="ttdef"><b>Definition:</b> <a href="memcheck_8c_source.html#l00191">memcheck.c:191</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a46f21472b4222116208fc0fcf88f84dd"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a46f21472b4222116208fc0fcf88f84dd">sigterm_signal_handler</a></div><div class="ttdeci">void sigterm_signal_handler(int signum)</div><div class="ttdoc">Log signal type and exit. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00046">daemon.c:46</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a85cd4ed1c5f59d4291263db042cd3aa2"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a></div><div class="ttdeci">bool CheckCPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00068">MemoryReliability_defs.c:68</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a45ed24cbd1932b27fe4a87c2f79c93c7"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a></div><div class="ttdeci">void log_message(char *message)</div><div class="ttdoc">Writes message in OutFile. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8c_source.html#l00140">logging.c:140</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_af1b27da322e2539f7dcdf778d644ab50"><div class="ttname"><a href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a></div><div class="ttdeci">unsigned long long NumBytesGPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00063">MemoryReliability_defs.c:63</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a92a5eb737fdb19db87792409e0e311e8"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a92a5eb737fdb19db87792409e0e311e8">free_gpu_memory</a></div><div class="ttdeci">void free_gpu_memory()</div><div class="ttdoc">De-allocates GPU memory. </div><div class="ttdef"><b>Definition:</b> <a href="tools_8c_source.html#l00127">tools.c:127</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a51173b54cc52b6d7328f9fe87aba9bbb"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a></div><div class="ttdeci">unsigned int SleepTime</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00089">MemoryReliability_defs.c:89</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a8e02335d6f92fe69486d739b379354fb"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a8e02335d6f92fe69486d739b379354fb">mem_pattern</a></div><div class="ttdeci">unsigned char mem_pattern</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00067">MemoryReliability_defs.c:67</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a0ddf920351d282036874261dbb91ff95"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a></div><div class="ttdeci">unsigned long long NumBytesCPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00062">MemoryReliability_defs.c:62</a></div></div>
</div><!-- fragment --><p> Start daemon thread and exit.</p>
<p>[start_client] </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability_8c_source.html#l00236">236</a> of file <a class="el" href="MemoryReliability_8c_source.html">MemoryReliability.c</a>.</p>

</div>
</div>
<a id="a0e2f72a981c64aefe314e745b28b6387"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e2f72a981c64aefe314e745b28b6387">&#9670;&nbsp;</a></span>start_daemon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void start_daemon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates GPU memory region and set to 0. </p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="keywordtype">void</span> <a class="code" href="MemoryReliability_8c.html#a0e2f72a981c64aefe314e745b28b6387">start_daemon</a>()</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordtype">char</span> start_msg[255];</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">// Fork child process</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    pid_t pid = fork();</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">if</span> (pid &lt; 0)</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;ERROR: Cannot create child process.\n&quot;</span>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        exit(EXIT_FAILURE);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span> (pid &gt; 0)</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="comment">// Write the pid of the daemon to the pid file</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#af85444147b22074f7c8b93b19c00b5b1">daemon_pid_write_to_file</a>(pid);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        printf(<span class="stringliteral">&quot;forked PID: %i. Parent process exits now.\n&quot;</span>, (<span class="keywordtype">int</span>) pid); <span class="comment">/*KAI*/</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="comment">// Child process created exit parent process.</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        exit(EXIT_SUCCESS);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">// Create session for our new process.</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    pid_t sid = setsid();</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">if</span> (sid &lt; 0)</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;ERROR_INFO,Cannot create session for the child process.\n&quot;</span>);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(<span class="stringliteral">&quot;ERROR_INFO,Cannot create session for the child process.&quot;</span>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        exit(EXIT_FAILURE);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    sprintf(start_msg, <span class="stringliteral">&quot;START, SLEEP TIME (SECONDS): %u&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(start_msg);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a>)</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        sprintf(start_msg, <span class="stringliteral">&quot;INFO, ALLOCATED CPU MEMORY (BYTES): %llu, PATTERN (HEX): 0x%&quot;</span> PRIxPTR, <a class="code" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a>, <a class="code" href="MemoryReliability__decl_8h.html#a8e02335d6f92fe69486d739b379354fb">mem_pattern</a>);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(start_msg);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a>)</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        sprintf(start_msg, <span class="stringliteral">&quot;INFO, ALLOCATED GPU MEMORY (BYTES): %llu, PATTERN (HEX): 0x%&quot;</span> PRIxPTR , <a class="code" href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a>, <a class="code" href="MemoryReliability__decl_8h.html#a8e02335d6f92fe69486d739b379354fb">mem_pattern</a>);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a>(start_msg);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    printf(<span class="stringliteral">&quot;Daemon started\n&quot;</span>);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// Close all standard file descriptors</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    fclose(stdin);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    fclose(stdout);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    fclose(stderr);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">// Install signal handler that responds to kill [pid] from the command line.</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    signal(SIGTERM, <a class="code" href="MemoryReliability__decl_8h.html#a46f21472b4222116208fc0fcf88f84dd">sigterm_signal_handler</a>);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">// Ignore signal when terminal session is closed. This keeps the</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">// daemon alive when the user closes the terminal session.</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    signal(SIGHUP, SIG_IGN);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="comment">// Initialize the memory before entering the daemon loop</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a>)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#ae72219dbf64a151040f10fb3aa4c8c0d">initialize_cpu_memory</a>();</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a>)</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#a07abc58767852eeb43565ccbf653d675">initialize_gpu_memory</a>();</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// The daemon loop.</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="MemoryReliability__decl_8h.html#a4f405b81728336029e34d7fd8c408cf9">memory_test_loop</a>(RANDOM);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a>)</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#a9752f2d320edf40035b4dc8b04792098">free_cpu_memory</a>();</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a>)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#a92a5eb737fdb19db87792409e0e311e8">free_gpu_memory</a>();</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    exit(EXIT_SUCCESS);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;}</div><div class="ttc" id="MemoryReliability__decl_8h_html_a9752f2d320edf40035b4dc8b04792098"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a9752f2d320edf40035b4dc8b04792098">free_cpu_memory</a></div><div class="ttdeci">void free_cpu_memory()</div><div class="ttdoc">De-allocates CPU memory. </div><div class="ttdef"><b>Definition:</b> <a href="tools_8c_source.html#l00120">tools.c:120</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_ae72219dbf64a151040f10fb3aa4c8c0d"><div class="ttname"><a href="MemoryReliability__decl_8h.html#ae72219dbf64a151040f10fb3aa4c8c0d">initialize_cpu_memory</a></div><div class="ttdeci">void initialize_cpu_memory()</div><div class="ttdoc">Allocates CPU memory region and set to 0. </div><div class="ttdef"><b>Definition:</b> <a href="tools_8c_source.html#l00060">tools.c:60</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a07abc58767852eeb43565ccbf653d675"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a07abc58767852eeb43565ccbf653d675">initialize_gpu_memory</a></div><div class="ttdeci">void initialize_gpu_memory()</div><div class="ttdoc">Allocates GPU memory region and set to 0. </div><div class="ttdef"><b>Definition:</b> <a href="tools_8c_source.html#l00083">tools.c:83</a></div></div>
<div class="ttc" id="MemoryReliability_8c_html_a0e2f72a981c64aefe314e745b28b6387"><div class="ttname"><a href="MemoryReliability_8c.html#a0e2f72a981c64aefe314e745b28b6387">start_daemon</a></div><div class="ttdeci">void start_daemon()</div><div class="ttdoc">[start_daemon] </div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability_8c_source.html#l00103">MemoryReliability.c:103</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a654d8cc4a11fe9438332b69bcfc01f40"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a654d8cc4a11fe9438332b69bcfc01f40">CheckGPU</a></div><div class="ttdeci">bool CheckGPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00069">MemoryReliability_defs.c:69</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a4f405b81728336029e34d7fd8c408cf9"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a4f405b81728336029e34d7fd8c408cf9">memory_test_loop</a></div><div class="ttdeci">void memory_test_loop(Strategy_t type)</div><div class="ttdoc">Start memory test loop. </div><div class="ttdef"><b>Definition:</b> <a href="memcheck_8c_source.html#l00191">memcheck.c:191</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a46f21472b4222116208fc0fcf88f84dd"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a46f21472b4222116208fc0fcf88f84dd">sigterm_signal_handler</a></div><div class="ttdeci">void sigterm_signal_handler(int signum)</div><div class="ttdoc">Log signal type and exit. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00046">daemon.c:46</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a85cd4ed1c5f59d4291263db042cd3aa2"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a85cd4ed1c5f59d4291263db042cd3aa2">CheckCPU</a></div><div class="ttdeci">bool CheckCPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00068">MemoryReliability_defs.c:68</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_af85444147b22074f7c8b93b19c00b5b1"><div class="ttname"><a href="MemoryReliability__decl_8h.html#af85444147b22074f7c8b93b19c00b5b1">daemon_pid_write_to_file</a></div><div class="ttdeci">void daemon_pid_write_to_file(pid_t pid)</div><div class="ttdoc">Store pid of daemon. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00074">daemon.c:74</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a45ed24cbd1932b27fe4a87c2f79c93c7"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a45ed24cbd1932b27fe4a87c2f79c93c7">log_message</a></div><div class="ttdeci">void log_message(char *message)</div><div class="ttdoc">Writes message in OutFile. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8c_source.html#l00140">logging.c:140</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_af1b27da322e2539f7dcdf778d644ab50"><div class="ttname"><a href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a></div><div class="ttdeci">unsigned long long NumBytesGPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00063">MemoryReliability_defs.c:63</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a92a5eb737fdb19db87792409e0e311e8"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a92a5eb737fdb19db87792409e0e311e8">free_gpu_memory</a></div><div class="ttdeci">void free_gpu_memory()</div><div class="ttdoc">De-allocates GPU memory. </div><div class="ttdef"><b>Definition:</b> <a href="tools_8c_source.html#l00127">tools.c:127</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a51173b54cc52b6d7328f9fe87aba9bbb"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a></div><div class="ttdeci">unsigned int SleepTime</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00089">MemoryReliability_defs.c:89</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a8e02335d6f92fe69486d739b379354fb"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a8e02335d6f92fe69486d739b379354fb">mem_pattern</a></div><div class="ttdeci">unsigned char mem_pattern</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00067">MemoryReliability_defs.c:67</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a0ddf920351d282036874261dbb91ff95"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a></div><div class="ttdeci">unsigned long long NumBytesCPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00062">MemoryReliability_defs.c:62</a></div></div>
</div><!-- fragment --><p> Allocates GPU memory region and set to 0. </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability_8c_source.html#l00103">103</a> of file <a class="el" href="MemoryReliability_8c_source.html">MemoryReliability.c</a>.</p>

</div>
</div>
<a id="a725630dc6f9856b1349100761924050f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a725630dc6f9856b1349100761924050f">&#9670;&nbsp;</a></span>stop_daemon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stop_daemon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start client as daemon. </p>
<p>the main process creates a fork (daemon) and exits. The fork installs the signal handler and starts the test loop.</p>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="keywordtype">void</span> <a class="code" href="MemoryReliability_8c.html#a725630dc6f9856b1349100761924050f">stop_daemon</a>()</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    pid_t pid = <a class="code" href="MemoryReliability__decl_8h.html#a2a0247dd7e00cff4736803b995e28dba">daemon_pid_read_from_file</a>();</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordtype">int</span> kill_status = 0;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span> (pid == 0)</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;ERROR: Could not find pid file (%s). If you are sure that the daemon is running, please, kill it manually.\n&quot;</span>, <a class="code" href="MemoryReliability__decl_8h.html#a3f4793418f51b998ca616dedadf67251">PidFileName</a>);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        kill_status = kill(pid, SIGTERM);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">if</span> (kill_status == 0)</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            printf(<span class="stringliteral">&quot;The daemon stopped.\n&quot;</span>);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="comment">// Delete the daemon pid file.</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <a class="code" href="MemoryReliability__decl_8h.html#ae764984964cc81569b1df5336419a508">daemon_pid_delete_file</a>();</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;ERROR: Failed to stop the daemon with pid %d.\n&quot;</span>, pid);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div><div class="ttc" id="MemoryReliability_8c_html_a725630dc6f9856b1349100761924050f"><div class="ttname"><a href="MemoryReliability_8c.html#a725630dc6f9856b1349100761924050f">stop_daemon</a></div><div class="ttdeci">void stop_daemon()</div><div class="ttdoc">[start_daemon] </div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability_8c_source.html#l00201">MemoryReliability.c:201</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_ae764984964cc81569b1df5336419a508"><div class="ttname"><a href="MemoryReliability__decl_8h.html#ae764984964cc81569b1df5336419a508">daemon_pid_delete_file</a></div><div class="ttdeci">void daemon_pid_delete_file()</div><div class="ttdoc">Removes file pid.txt. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00126">daemon.c:126</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a3f4793418f51b998ca616dedadf67251"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a3f4793418f51b998ca616dedadf67251">PidFileName</a></div><div class="ttdeci">char PidFileName[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00078">MemoryReliability_defs.c:78</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a2a0247dd7e00cff4736803b995e28dba"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a2a0247dd7e00cff4736803b995e28dba">daemon_pid_read_from_file</a></div><div class="ttdeci">pid_t daemon_pid_read_from_file()</div><div class="ttdoc">Reads daemon pid from file pid.txt. </div><div class="ttdef"><b>Definition:</b> <a href="daemon_8c_source.html#l00104">daemon.c:104</a></div></div>
</div><!-- fragment --><p> Start client as daemon.</p>
<p>[stop_daemon] </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability_8c_source.html#l00201">201</a> of file <a class="el" href="MemoryReliability_8c_source.html">MemoryReliability.c</a>.</p>

</div>
</div>
<a id="a1ba9f22da04fa0e126afc734a4a3713d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ba9f22da04fa0e126afc734a4a3713d">&#9670;&nbsp;</a></span>virtual_to_physical_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uintptr_t virtual_to_physical_address </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>virt_addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Translates a virtual address to the physical address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">virt_addr</td><td>[in] virtual address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>physical address mapped by virtual address</dd></dl>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;uintptr_t <a class="code" href="addresstranslation_8c.html#a1ba9f22da04fa0e126afc734a4a3713d">virtual_to_physical_address</a>(uintptr_t virt_addr) {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    uintptr_t vpfn = 0; <span class="comment">// virtual page frame number</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    uintptr_t pfn = 0; <span class="comment">// physical page frame number</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordtype">int</span> pfo = 0; <span class="comment">// page frame offset</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordtype">int</span> pfo_width = 0; <span class="comment">// page frame offset width</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    uintptr_t phys_addr = 0, phys_addr_big_endian = 0;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    uintptr_t file_offset = 0;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    uint64_t page_table_entry = 0, page_table_entry_big_endian = 0;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordtype">int</span> c = 1, i;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordtype">int</span> fd, fd_err, fd_dbg, ierr;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="addresstranslation_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a> &lt;= 0) {</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    }</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    fd = open(<a class="code" href="addresstranslation_8h.html#acab3837d6a11e157aefb61b350a111d0">page_mapping_file</a>, O_RDONLY, 0);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> (fd == -1) {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        ierr = errno;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        fd_err = open(<a class="code" href="MemoryReliability__decl_8h.html#a49290167105e1e81670e32ae9d8d18b6">ErrFile</a>, O_WRONLY|O_CREAT|O_APPEND, 0666);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        dprintf(fd_err, <span class="stringliteral">&quot;[Warning] Cannot open %s. Please, run as root: -- %s\n&quot;</span>, <a class="code" href="addresstranslation_8h.html#acab3837d6a11e157aefb61b350a111d0">page_mapping_file</a>, strerror(ierr));</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        close(fd_err);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        ierr = 0;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// determine virtual address page frame</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    vpfn = virt_addr / <a class="code" href="addresstranslation_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="comment">// set file pointer</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    file_offset = vpfn * <a class="code" href="addresstranslation_8h.html#a595ca7f943acefbdefe796e4ae1dd904">PAGEMAP_ENTRY_BYTES</a>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    ierr = lseek(fd, file_offset, SEEK_SET);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">if</span> (ierr == -1) {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        ierr = errno;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        fd_err = open(<a class="code" href="MemoryReliability__decl_8h.html#a49290167105e1e81670e32ae9d8d18b6">ErrFile</a>, O_WRONLY|O_CREAT|O_APPEND, 0666);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        dprintf(fd_err, <span class="stringliteral">&quot;Error! Cannot seek in %s: -- %s\n&quot;</span>, <a class="code" href="addresstranslation_8h.html#acab3837d6a11e157aefb61b350a111d0">page_mapping_file</a>, strerror(ierr));</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        close(fd_err);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        ierr = 0;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        close(fd);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    read( fd, &amp;page_table_entry, <span class="keyword">sizeof</span>(uint64_t) );</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#ifdef DEBUG_ON</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    fd_dbg = open(<a class="code" href="MemoryReliability__decl_8h.html#ae691b881848f04a83c54da86d5b3b354">DbgFile</a>, O_WRONLY|O_CREAT|O_APPEND, 0666);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    dprintf(fd_dbg, <span class="stringliteral">&quot;page table entry : 0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;\n&quot;</span>, page_table_entry);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    dprintf(fd_dbg, <span class="stringliteral">&quot;virt_addr : 0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;\n&quot;</span>, virt_addr);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    dprintf(fd_dbg, <span class="stringliteral">&quot;page size : %li\n&quot;</span>, <a class="code" href="addresstranslation_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    dprintf(fd_dbg, <span class="stringliteral">&quot;big endian : %i\n&quot;</span>, <a class="code" href="addresstranslation_8h.html#ab460df3c1ec2581c70e8e5aa5b2931f4">is_bigendian</a>());</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="addresstranslation_8h.html#a4e53db96450dca5be7fdbc09facdeff9">PAGEMAP_ENTRY_BITS</a>; i++) {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        page_table_entry_big_endian += <a class="code" href="addresstranslation_8h.html#a55e808c1a522692c1b0cd15be71afdd9">GET_BIT</a>( page_table_entry, i );</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">if</span>( i&lt;PAGEMAP_ENTRY_BITS-1 ) {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            page_table_entry_big_endian &lt;&lt;= 1;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    dprintf(fd_dbg, <span class="stringliteral">&quot;swapped entry : 0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;\n&quot;</span>, page_table_entry_big_endian);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    </div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">// if big endian, swap entries before apply GET_PFN macro</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    page_table_entry_big_endian = 0;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="addresstranslation_8h.html#ab460df3c1ec2581c70e8e5aa5b2931f4">is_bigendian</a>() ) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="addresstranslation_8h.html#a4e53db96450dca5be7fdbc09facdeff9">PAGEMAP_ENTRY_BITS</a>; i++) {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            page_table_entry_big_endian += <a class="code" href="addresstranslation_8h.html#a55e808c1a522692c1b0cd15be71afdd9">GET_BIT</a>( page_table_entry, i );</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="keywordflow">if</span>( i&lt;PAGEMAP_ENTRY_BITS-1 ) {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                page_table_entry_big_endian &lt;&lt;= 1;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        }</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        page_table_entry = page_table_entry_big_endian;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    pfn = <a class="code" href="addresstranslation_8h.html#a60fa42dafca35ffeb0ffa577bc184652">GET_PFN</a>(page_table_entry);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">#ifdef DEBUG_ON</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    dprintf(fd_dbg, <span class="stringliteral">&quot;pfn : 0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;\n&quot;</span>, pfn);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// determine width of offset</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    assert( (<a class="code" href="addresstranslation_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a> != 0) &amp;&amp; (c==1) );</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">while</span> ( c != <a class="code" href="addresstranslation_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a> || pfo_width == <a class="code" href="MemoryReliability__decl_8h.html#a58c68067aa9bf4b23ef5cdbdd69a7c19">MAX_ITER</a> ) {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        c = c &lt;&lt; 1;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        pfo_width++;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    </div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    pfo = <a class="code" href="addresstranslation_8h.html#a9cd09dbda516fda7ccdcca7dc611388b">GET_OFFSET</a>(virt_addr);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    phys_addr = (pfn &lt;&lt; pfo_width) + pfo;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">// if big endian, swap back to normal</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    phys_addr_big_endian = 0;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="addresstranslation_8h.html#ab460df3c1ec2581c70e8e5aa5b2931f4">is_bigendian</a>() ) {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="addresstranslation_8h.html#a4e53db96450dca5be7fdbc09facdeff9">PAGEMAP_ENTRY_BITS</a>; i++) {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            phys_addr_big_endian += <a class="code" href="addresstranslation_8h.html#a55e808c1a522692c1b0cd15be71afdd9">GET_BIT</a>( phys_addr, i );</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <span class="keywordflow">if</span>( i&lt;PAGEMAP_ENTRY_BITS-1 ) {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                phys_addr_big_endian &lt;&lt;= 1;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        phys_addr = phys_addr_big_endian;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">#ifdef DEBUG_ON</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    close(fd_dbg);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    close(fd);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">return</span> phys_addr;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div><div class="ttc" id="addresstranslation_8h_html_a7d467c1d283fdfa1f2081ba1e0d01b6e"><div class="ttname"><a href="addresstranslation_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a></div><div class="ttdeci">#define PAGE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="addresstranslation_8h_source.html#l00049">addresstranslation.h:49</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a58c68067aa9bf4b23ef5cdbdd69a7c19"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a58c68067aa9bf4b23ef5cdbdd69a7c19">MAX_ITER</a></div><div class="ttdeci">const unsigned int MAX_ITER</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00058">MemoryReliability_defs.c:58</a></div></div>
<div class="ttc" id="addresstranslation_8h_html_a55e808c1a522692c1b0cd15be71afdd9"><div class="ttname"><a href="addresstranslation_8h.html#a55e808c1a522692c1b0cd15be71afdd9">GET_BIT</a></div><div class="ttdeci">#define GET_BIT(X, Y)</div><div class="ttdef"><b>Definition:</b> <a href="addresstranslation_8h_source.html#l00064">addresstranslation.h:64</a></div></div>
<div class="ttc" id="addresstranslation_8h_html_a9cd09dbda516fda7ccdcca7dc611388b"><div class="ttname"><a href="addresstranslation_8h.html#a9cd09dbda516fda7ccdcca7dc611388b">GET_OFFSET</a></div><div class="ttdeci">#define GET_OFFSET(X)</div><div class="ttdoc">get address offset </div><div class="ttdef"><b>Definition:</b> <a href="addresstranslation_8h_source.html#l00083">addresstranslation.h:83</a></div></div>
<div class="ttc" id="addresstranslation_8h_html_acab3837d6a11e157aefb61b350a111d0"><div class="ttname"><a href="addresstranslation_8h.html#acab3837d6a11e157aefb61b350a111d0">page_mapping_file</a></div><div class="ttdeci">#define page_mapping_file</div><div class="ttdef"><b>Definition:</b> <a href="addresstranslation_8h_source.html#l00086">addresstranslation.h:86</a></div></div>
<div class="ttc" id="addresstranslation_8h_html_a595ca7f943acefbdefe796e4ae1dd904"><div class="ttname"><a href="addresstranslation_8h.html#a595ca7f943acefbdefe796e4ae1dd904">PAGEMAP_ENTRY_BYTES</a></div><div class="ttdeci">#define PAGEMAP_ENTRY_BYTES</div><div class="ttdef"><b>Definition:</b> <a href="addresstranslation_8h_source.html#l00052">addresstranslation.h:52</a></div></div>
<div class="ttc" id="addresstranslation_8h_html_a60fa42dafca35ffeb0ffa577bc184652"><div class="ttname"><a href="addresstranslation_8h.html#a60fa42dafca35ffeb0ffa577bc184652">GET_PFN</a></div><div class="ttdeci">#define GET_PFN(X)</div><div class="ttdoc">extract page frame number (PFN) from page table entry X </div><div class="ttdef"><b>Definition:</b> <a href="addresstranslation_8h_source.html#l00075">addresstranslation.h:75</a></div></div>
<div class="ttc" id="addresstranslation_8h_html_a4e53db96450dca5be7fdbc09facdeff9"><div class="ttname"><a href="addresstranslation_8h.html#a4e53db96450dca5be7fdbc09facdeff9">PAGEMAP_ENTRY_BITS</a></div><div class="ttdeci">#define PAGEMAP_ENTRY_BITS</div><div class="ttdef"><b>Definition:</b> <a href="addresstranslation_8h_source.html#l00055">addresstranslation.h:55</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a49290167105e1e81670e32ae9d8d18b6"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a49290167105e1e81670e32ae9d8d18b6">ErrFile</a></div><div class="ttdeci">char ErrFile[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00081">MemoryReliability_defs.c:81</a></div></div>
<div class="ttc" id="addresstranslation_8c_html_a1ba9f22da04fa0e126afc734a4a3713d"><div class="ttname"><a href="addresstranslation_8c.html#a1ba9f22da04fa0e126afc734a4a3713d">virtual_to_physical_address</a></div><div class="ttdeci">uintptr_t virtual_to_physical_address(uintptr_t virt_addr)</div><div class="ttdoc">Translates a virtual address to the physical address. </div><div class="ttdef"><b>Definition:</b> <a href="addresstranslation_8c_source.html#l00045">addresstranslation.c:45</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_ae691b881848f04a83c54da86d5b3b354"><div class="ttname"><a href="MemoryReliability__decl_8h.html#ae691b881848f04a83c54da86d5b3b354">DbgFile</a></div><div class="ttdeci">char DbgFile[255]</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00082">MemoryReliability_defs.c:82</a></div></div>
<div class="ttc" id="addresstranslation_8h_html_ab460df3c1ec2581c70e8e5aa5b2931f4"><div class="ttname"><a href="addresstranslation_8h.html#ab460df3c1ec2581c70e8e5aa5b2931f4">is_bigendian</a></div><div class="ttdeci">#define is_bigendian()</div><div class="ttdef"><b>Definition:</b> <a href="addresstranslation_8h_source.html#l00090">addresstranslation.h:90</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="addresstranslation_8c_source.html#l00045">45</a> of file <a class="el" href="addresstranslation_8c_source.html">addresstranslation.c</a>.</p>

</div>
</div>
<a id="a5d3a17d3b8fc429d058ca9856169a409"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d3a17d3b8fc429d058ca9856169a409">&#9670;&nbsp;</a></span>zero_one_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zero_one_test </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zero one memory test. </p>
<p>the memory region is initialized to 0 at start. each iteration the bits in the region are flipped. Hence 0-&gt;1, 1-&gt;0, 0-&gt;1, etc.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keywordtype">void</span> <a class="code" href="memcheck_8c.html#a5d3a17d3b8fc429d058ca9856169a409">zero_one_test</a>()</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    </div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a> expected_value = 0x0;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// The main loop</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">while</span>(<a class="code" href="MemoryReliability__decl_8h.html#af19b5b70151bdf6802ebd45e193cbc63">ExitNow</a> == 0)</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="comment">// Simulate error at random position and random iteration.</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#aff93fd1322012d1b450c07fe2230eef4">inject_cpu_error</a>(<a class="code" href="MemoryReliability__decl_8h.html#aa9278fdef519def4258cf6375a03834e">cpu_mem</a>, expected_value, ZERO);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <a class="code" href="MemoryReliability__decl_8h.html#a6a49a6091705e944e3a6b05d0be3c3ce">inject_gpu_error</a>(<a class="code" href="MemoryReliability__decl_8h.html#a0a5f7d646cc094cefd9b0540e4c25eda">gpu_mem</a>, expected_value, ZERO);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <a class="code" href="memcheck_8c.html#a58440a1b2a0fcc331798ecc2db7b1efe">check_cpu_mem</a>(<a class="code" href="MemoryReliability__decl_8h.html#aa9278fdef519def4258cf6375a03834e">cpu_mem</a>, <a class="code" href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a>, expected_value, ~expected_value);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <a class="code" href="memcheck_8c.html#a16cc33d651366d4a961f9f6cfcdba65a">check_gpu_mem</a>(<a class="code" href="MemoryReliability__decl_8h.html#a0a5f7d646cc094cefd9b0540e4c25eda">gpu_mem</a>, <a class="code" href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a>, expected_value, ~expected_value);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        expected_value = ~expected_value;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a> &gt; 0 &amp;&amp; <a class="code" href="MemoryReliability__decl_8h.html#af19b5b70151bdf6802ebd45e193cbc63">ExitNow</a> == 0)</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            sleep(<a class="code" href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div><div class="ttc" id="MemoryReliability__decl_8h_html_a94baa001ce1e427d41bdddb61169df68"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a94baa001ce1e427d41bdddb61169df68">ADDRVALUE</a></div><div class="ttdeci">uintptr_t ADDRVALUE</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__decl_8h_source.html#l00126">MemoryReliability_decl.h:126</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_aa9278fdef519def4258cf6375a03834e"><div class="ttname"><a href="MemoryReliability__decl_8h.html#aa9278fdef519def4258cf6375a03834e">cpu_mem</a></div><div class="ttdeci">void * cpu_mem</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00064">MemoryReliability_defs.c:64</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a0a5f7d646cc094cefd9b0540e4c25eda"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a0a5f7d646cc094cefd9b0540e4c25eda">gpu_mem</a></div><div class="ttdeci">void * gpu_mem</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00065">MemoryReliability_defs.c:65</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a6a49a6091705e944e3a6b05d0be3c3ce"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a6a49a6091705e944e3a6b05d0be3c3ce">inject_gpu_error</a></div><div class="ttdeci">void inject_gpu_error(unsigned char *start, ADDRVALUE expected_value, Strategy_t s)</div><div class="ttdoc">Injects error in GPU memory. </div><div class="ttdef"><b>Definition:</b> <a href="injection_8c_source.html#l00087">injection.c:87</a></div></div>
<div class="ttc" id="memcheck_8c_html_a16cc33d651366d4a961f9f6cfcdba65a"><div class="ttname"><a href="memcheck_8c.html#a16cc33d651366d4a961f9f6cfcdba65a">check_gpu_mem</a></div><div class="ttdeci">bool check_gpu_mem(ADDRVALUE *buffer, unsigned long long num_bytes, ADDRVALUE expected_value, ADDRVALUE new_value)</div><div class="ttdoc">Scans memory for SDC (GPU) </div><div class="ttdef"><b>Definition:</b> <a href="memcheck_8c_source.html#l00067">memcheck.c:67</a></div></div>
<div class="ttc" id="memcheck_8c_html_a5d3a17d3b8fc429d058ca9856169a409"><div class="ttname"><a href="memcheck_8c.html#a5d3a17d3b8fc429d058ca9856169a409">zero_one_test</a></div><div class="ttdeci">void zero_one_test()</div><div class="ttdoc">Zero one memory test. </div><div class="ttdef"><b>Definition:</b> <a href="memcheck_8c_source.html#l00106">memcheck.c:106</a></div></div>
<div class="ttc" id="memcheck_8c_html_a58440a1b2a0fcc331798ecc2db7b1efe"><div class="ttname"><a href="memcheck_8c.html#a58440a1b2a0fcc331798ecc2db7b1efe">check_cpu_mem</a></div><div class="ttdeci">bool check_cpu_mem(ADDRVALUE *buffer, unsigned long long num_bytes, ADDRVALUE expected_value, ADDRVALUE new_value)</div><div class="ttdoc">Scans memory for SDC (CPU) </div><div class="ttdef"><b>Definition:</b> <a href="memcheck_8c_source.html#l00046">memcheck.c:46</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_af1b27da322e2539f7dcdf778d644ab50"><div class="ttname"><a href="MemoryReliability__decl_8h.html#af1b27da322e2539f7dcdf778d644ab50">NumBytesGPU</a></div><div class="ttdeci">unsigned long long NumBytesGPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00063">MemoryReliability_defs.c:63</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a51173b54cc52b6d7328f9fe87aba9bbb"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a51173b54cc52b6d7328f9fe87aba9bbb">SleepTime</a></div><div class="ttdeci">unsigned int SleepTime</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00089">MemoryReliability_defs.c:89</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_af19b5b70151bdf6802ebd45e193cbc63"><div class="ttname"><a href="MemoryReliability__decl_8h.html#af19b5b70151bdf6802ebd45e193cbc63">ExitNow</a></div><div class="ttdeci">bool ExitNow</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00090">MemoryReliability_defs.c:90</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_aff93fd1322012d1b450c07fe2230eef4"><div class="ttname"><a href="MemoryReliability__decl_8h.html#aff93fd1322012d1b450c07fe2230eef4">inject_cpu_error</a></div><div class="ttdeci">void inject_cpu_error(unsigned char *start, ADDRVALUE expected_value, Strategy_t s)</div><div class="ttdoc">Injects error in CPU memory. </div><div class="ttdef"><b>Definition:</b> <a href="injection_8c_source.html#l00046">injection.c:46</a></div></div>
<div class="ttc" id="MemoryReliability__decl_8h_html_a0ddf920351d282036874261dbb91ff95"><div class="ttname"><a href="MemoryReliability__decl_8h.html#a0ddf920351d282036874261dbb91ff95">NumBytesCPU</a></div><div class="ttdeci">unsigned long long NumBytesCPU</div><div class="ttdef"><b>Definition:</b> <a href="MemoryReliability__defs_8c_source.html#l00062">MemoryReliability_defs.c:62</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="memcheck_8c_source.html#l00106">106</a> of file <a class="el" href="memcheck_8c_source.html">memcheck.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a85cd4ed1c5f59d4291263db042cd3aa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85cd4ed1c5f59d4291263db042cd3aa2">&#9670;&nbsp;</a></span>CheckCPU</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CheckCPU</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>random generated pattern to initialize memory </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00068">68</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="a654d8cc4a11fe9438332b69bcfc01f40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a654d8cc4a11fe9438332b69bcfc01f40">&#9670;&nbsp;</a></span>CheckGPU</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CheckGPU</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>flag if CPU memory is to monitor </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00069">69</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="aa9278fdef519def4258cf6375a03834e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9278fdef519def4258cf6375a03834e">&#9670;&nbsp;</a></span>cpu_mem</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* cpu_mem</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>size of memory region to monitor for SDC in GPU </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00064">64</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="ae691b881848f04a83c54da86d5b3b354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae691b881848f04a83c54da86d5b3b354">&#9670;&nbsp;</a></span>DbgFile</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char DbgFile[255]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>filename for runtime error logging </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00082">82</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="a49290167105e1e81670e32ae9d8d18b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49290167105e1e81670e32ae9d8d18b6">&#9670;&nbsp;</a></span>ErrFile</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char ErrFile[255]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>filename for warnings if SDC event amount is high </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00081">81</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="af19b5b70151bdf6802ebd45e193cbc63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af19b5b70151bdf6802ebd45e193cbc63">&#9670;&nbsp;</a></span>ExitNow</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ExitNow</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>time between two check loops </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00090">90</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="a2ea0fc0d5d65c4b48708204f1b423e57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ea0fc0d5d65c4b48708204f1b423e57">&#9670;&nbsp;</a></span>GIGA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int GIGA</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>pre-factor for mega bytes </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00057">57</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="a0a5f7d646cc094cefd9b0540e4c25eda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a5f7d646cc094cefd9b0540e4c25eda">&#9670;&nbsp;</a></span>gpu_mem</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* gpu_mem</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>pointer to allocated CPU memory region </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00065">65</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="a96dcf1f1a7190a76b02f3b306fb19fae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96dcf1f1a7190a76b02f3b306fb19fae">&#9670;&nbsp;</a></span>HostName</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char HostName[255]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>flag if daemon should be stopped </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00060">60</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="a7f202953dc19744ed27eb41b771ac5ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f202953dc19744ed27eb41b771ac5ab">&#9670;&nbsp;</a></span>IsDaemonStart</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IsDaemonStart</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>flag for daemon to stop execution </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00091">91</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="a01f5465ccf75eac7d911a0bf73c6294d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01f5465ccf75eac7d911a0bf73c6294d">&#9670;&nbsp;</a></span>IsDaemonStop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IsDaemonStop</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>flag if daemon should be started </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00092">92</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="a58c68067aa9bf4b23ef5cdbdd69a7c19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58c68067aa9bf4b23ef5cdbdd69a7c19">&#9670;&nbsp;</a></span>MAX_ITER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int MAX_ITER</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>amount of SDC events detected </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00058">58</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="a2b1c4ac30a66001159b11cf410b2c1b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b1c4ac30a66001159b11cf410b2c1b4">&#9670;&nbsp;</a></span>MEGA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int MEGA</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>pre-factor for kilo bytes </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00056">56</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="a8e02335d6f92fe69486d739b379354fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e02335d6f92fe69486d739b379354fb">&#9670;&nbsp;</a></span>mem_pattern</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char mem_pattern</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>pointer to allocated GPU memory region </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00067">67</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="a0ddf920351d282036874261dbb91ff95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf920351d282036874261dbb91ff95">&#9670;&nbsp;</a></span>NumBytesCPU</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long long NumBytesCPU</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>keeps the hostname of executing node </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00062">62</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="af1b27da322e2539f7dcdf778d644ab50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1b27da322e2539f7dcdf778d644ab50">&#9670;&nbsp;</a></span>NumBytesGPU</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long long NumBytesGPU</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>size of memory region to monitor for SDC in CPU </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00063">63</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="a869c7522839e9c7414c7d6e7cdca2123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a869c7522839e9c7414c7d6e7cdca2123">&#9670;&nbsp;</a></span>NumErrors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int NumErrors</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>threshold for log a warning </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00085">85</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="a95b29e5ee170f3bd54c14fd82a3ad3e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95b29e5ee170f3bd54c14fd82a3ad3e3">&#9670;&nbsp;</a></span>OutFile</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char OutFile[255]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>filename to store prozess identifier (PID) </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00079">79</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="a3f4793418f51b998ca616dedadf67251"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f4793418f51b998ca616dedadf67251">&#9670;&nbsp;</a></span>PidFileName</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char PidFileName[255]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>pre-factor for giga bytes </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00078">78</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="a51173b54cc52b6d7328f9fe87aba9bbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51173b54cc52b6d7328f9fe87aba9bbb">&#9670;&nbsp;</a></span>SleepTime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int SleepTime</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>security measure to prevent infinite loop execution </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00089">89</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="aea6acf2334f72fd7236bfd74e375e940"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea6acf2334f72fd7236bfd74e375e940">&#9670;&nbsp;</a></span>WarnFile</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char WarnFile[255]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>filename of SDC event logging </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00080">80</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
<a id="a082dbb766746bc61e1e2e88fdbd413fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a082dbb766746bc61e1e2e88fdbd413fc">&#9670;&nbsp;</a></span>WarnRate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int WarnRate</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>filename to store debug information </p>

<p class="definition">Definition at line <a class="el" href="MemoryReliability__defs_8c_source.html#l00084">84</a> of file <a class="el" href="MemoryReliability__defs_8c_source.html">MemoryReliability_defs.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
